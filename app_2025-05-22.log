2025-05-22 10:46:42 - utils.logger - INFO - Logging configurado. Nível: INFO. Arquivo: app_2025-05-22.log
2025-05-22 10:46:42 - callbacks.short_circuit - INFO - Registrando callbacks do módulo short_circuit para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 10:46:42 - callbacks.impulse - INFO - Callbacks do módulo de impulso já registrados via decoradores @dash.callback para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500.
2025-05-22 10:46:42 - callbacks.applied_voltage - INFO - Registrando callbacks de tensão aplicada...
2025-05-22 10:46:42 - callbacks.applied_voltage - INFO - Callbacks de tensão aplicada registrados com sucesso.
2025-05-22 10:46:42 - callbacks.history - INFO - Registrando callbacks de Histórico (VERSÃO REFEITA - Foco no MCP)
2025-05-22 10:46:42 - callbacks.history - INFO - Callbacks de Histórico (VERSÃO REFEITA - Foco no MCP) registrados.
2025-05-22 10:46:42 - callbacks.insulation_level_callbacks - INFO - ==================== MÓDULO INSULATION_LEVEL_CALLBACKS (Options Only Logic) CARREGADO ====================
2025-05-22 10:46:42 - callbacks.insulation_level_callbacks - ERROR - ERRO: assets/tabela.json não encontrado!
2025-05-22 10:46:42 - callbacks.insulation_level_callbacks - INFO - Registrando callbacks de níveis de isolamento (APENAS OPÇÕES - V2)...
2025-05-22 10:46:42 - callbacks.insulation_level_callbacks - INFO - Callbacks de níveis de isolamento (APENAS OPÇÕES - V2) registrados.
2025-05-22 10:46:43 - app - ERROR - Função de registro 'register_temperature_rise_callbacks' não encontrada em temperature_rise: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\app.py", line 341, in <module>
    registration_function = getattr(module, reg_func_name)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
2025-05-22 10:46:43 - utils.standards_db - INFO - Tabelas 'standards_metadata' e 'standards_content_fts' criadas/verificadas.
2025-05-22 10:46:43 - app - INFO - Callbacks registrados. Total: 54
2025-05-22 10:46:43 - callbacks.navigation_dcc_links - INFO - 
[navigation_dcc_links.py] REGISTRANDO CALLBACK DE NAVEGAÇÃO (render_content)

2025-05-22 10:46:43 - callbacks.transformer_inputs - INFO - Registrando callbacks do módulo transformer_inputs para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 10:46:43 - callbacks.short_circuit - INFO - Registrando callbacks do módulo short_circuit para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 10:46:43 - callbacks.impulse - INFO - Callbacks do módulo de impulso já registrados via decoradores @dash.callback para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500.
2025-05-22 10:46:43 - callbacks.applied_voltage - INFO - Registrando callbacks de tensão aplicada...
2025-05-22 10:46:43 - callbacks.applied_voltage - INFO - Callbacks de tensão aplicada registrados com sucesso.
2025-05-22 10:46:43 - callbacks.history - INFO - Registrando callbacks de Histórico (VERSÃO REFEITA - Foco no MCP)
2025-05-22 10:46:43 - callbacks.history - INFO - Callbacks de Histórico (VERSÃO REFEITA - Foco no MCP) registrados.
2025-05-22 10:46:43 - callbacks.insulation_level_callbacks - INFO - Registrando callbacks de níveis de isolamento (APENAS OPÇÕES - V2)...
2025-05-22 10:46:43 - callbacks.insulation_level_callbacks - INFO - Callbacks de níveis de isolamento (APENAS OPÇÕES - V2) registrados.
2025-05-22 10:46:43 - __main__ - ERROR - Função de registro 'register_temperature_rise_callbacks' não encontrada em temperature_rise: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\app.py", line 341, in <module>
    registration_function = getattr(module, reg_func_name)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
2025-05-22 10:46:43 - utils.standards_db - INFO - Tabelas 'standards_metadata' e 'standards_content_fts' criadas/verificadas.
2025-05-22 10:46:43 - __main__ - INFO - Callbacks registrados. Total: 31
2025-05-22 10:46:43 - __main__ - INFO - Iniciando servidor Dash em http://127.0.0.1:8050/ (Debug: True)
2025-05-22 10:46:43 - dash.dash - INFO - Dash is running on http://127.0.0.1:8050/

2025-05-22 10:46:50 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 10:46:50 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 10:46:50 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 10:46:50 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 10:46:50 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /dados

2025-05-22 10:46:50 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: transformer-inputs-store
2025-05-22 10:46:50 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 10:46:50 - callbacks.navigation_dcc_links - INFO - URL normalizada: dados
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 10:46:50 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:46:50 - callbacks.navigation_dcc_links - INFO - Carregando layout para: dados (1. Dados Básicos)
2025-05-22 10:46:50 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:46:50 - layouts.transformer_inputs - INFO - Criando layout Dados Básicos (v5 - Layout Geral e Pesos em 2 linhas)...
2025-05-22 10:46:50 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 10:46:50 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 10:46:50 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:46:50 - layouts.transformer_inputs - INFO - Classes de tensão carregadas para dropdown: 27 opções.
2025-05-22 10:46:50 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 10:46:50 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 10:46:50 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:46:50 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-19T15:14:10.188722
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=345, tensao_at=525, tensao_bt=16
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=345, tensao_at=525, tensao_bt=16
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Potência: 345
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 525
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 16
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 379.4
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 12449.12
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-19T15:14:10.188722
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 44.0ms
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:46:50 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-19T15:14:10.188722
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=345, tensao_at=525, tensao_bt=16
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=345, tensao_at=525, tensao_bt=16
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Potência: 345
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 525
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 16
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 379.4
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 12449.12
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-19T15:14:10.188722
2025-05-22 10:46:50 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:46:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 10:46:50 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 37.0ms
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /dados
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 10:46:50 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:46:50 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /dados
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /dados
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=None, SIL=None, TA=None, TI=/dados
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=None, SIL=None
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=None, SIL=None, TA=None, TI=/dados
2025-05-22 10:46:50 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:46:50 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:46:50 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:46:50 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:46:50 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:46:50 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 10:46:50 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:46:55 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 10:46:55 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 10:46:55 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 10:46:55 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 10:46:55 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 10:46:55 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /dados

2025-05-22 10:46:55 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: transformer-inputs-store
2025-05-22 10:46:55 - callbacks.navigation_dcc_links - INFO - URL normalizada: dados
2025-05-22 10:46:55 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 10:46:55 - callbacks.navigation_dcc_links - INFO - Carregando layout para: dados (1. Dados Básicos)
2025-05-22 10:46:55 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:46:55 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:46:55 - layouts.transformer_inputs - INFO - Criando layout Dados Básicos (v5 - Layout Geral e Pesos em 2 linhas)...
2025-05-22 10:46:55 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 10:46:55 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 10:46:55 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 10:46:55 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:46:55 - layouts.transformer_inputs - INFO - Classes de tensão carregadas para dropdown: 27 opções.
2025-05-22 10:46:55 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 10:46:55 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-19T15:14:10.188722
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=345, tensao_at=525, tensao_bt=16
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=345, tensao_at=525, tensao_bt=16
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Potência: 345
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 525
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 16
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 379.4
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 12449.12
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-19T15:14:10.188722
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 39.0ms
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:46:55 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-19T15:14:10.188722
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=345, tensao_at=525, tensao_bt=16
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=345, tensao_at=525, tensao_bt=16
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Potência: 345
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 525
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 16
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 379.4
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 12449.12
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-19T15:14:10.188722
2025-05-22 10:46:55 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:46:55 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 10:46:55 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 22.01ms
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /dados
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:46:55 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /dados
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 10:46:55 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /dados
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=None, SIL=None, TA=None, TI=/dados
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=None, SIL=None
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=None, SIL=None, TA=None, TI=/dados
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:46:55 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:46:55 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 10:46:55 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:46:55 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:46:55 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:46:55 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 10:46:55 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:46:58 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: nbi_at
2025-05-22 10:46:58 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:46:58 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:46:58 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:46:58 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:46:58 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:46:58 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:46:58 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:46:58 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:46:58 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:46:58 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:46:58 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:46:58 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:46:58 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:46:58 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_104658.json
2025-05-22 10:46:58 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250519_151410.json
2025-05-22 10:46:58 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:46:58 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:46:58 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:46:58 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:47:00 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: impedancia
2025-05-22 10:47:00 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:47:00 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:47:00 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:47:00 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:47:00 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:47:00 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:47:00 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:47:00 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:47:00 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:47:00 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:47:00 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:47:00 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:47:00 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:47:00 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_104700.json
2025-05-22 10:47:00 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250519_151406.json
2025-05-22 10:47:00 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:47:00 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:47:00 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:47:00 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:47:02 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: impedancia
2025-05-22 10:47:02 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:47:02 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:47:02 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:47:02 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:47:02 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:47:02 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:47:02 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:47:02 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:47:02 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:47:02 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:47:02 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:47:02 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:47:02 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:47:02 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_104702.json
2025-05-22 10:47:02 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250519_151213.json
2025-05-22 10:47:02 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:47:02 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:47:02 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:47:02 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:47:08 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 10:47:08 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 10:47:08 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 10:47:08 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /perdas

2025-05-22 10:47:08 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 10:47:08 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 10:47:08 - callbacks.navigation_dcc_links - INFO - URL normalizada: perdas
2025-05-22 10:47:08 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 10:47:08 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 10:47:08 - callbacks.navigation_dcc_links - INFO - Carregando layout para: perdas (2. Perdas)
2025-05-22 10:47:08 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 10:47:08 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Store de origem transformer-inputs-store É a fonte-de-verdade para campos básicos
2025-05-22 10:47:08 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 10:47:08 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'losses-store'.
2025-05-22 10:47:08 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 10:47:08 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Dados básicos propagados para losses-store
2025-05-22 10:47:08 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 10:47:08 - callbacks.navigation_dcc_links - INFO - Propagação de dados para losses-store: {'losses-store': True}
2025-05-22 10:47:08 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 10:47:08 - layouts.losses - INFO - Creating Losses layout...
2025-05-22 10:47:08 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 10:47:08 - layouts.losses - INFO - [Losses Layout] Dados do transformador obtidos do losses-store.
2025-05-22 10:47:08 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 10:47:08 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 10:47:08 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: url. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /perdas
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: url. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /perdas
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=None, TA=None, TI=None
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:47:08 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=None, SIL=None, TA=None, TI=/perdas
2025-05-22 10:47:08 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:47:08 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 10:47:08 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: url. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /perdas
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=None, SIL=None, TA=None, TI=/perdas
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=None, SIL=None
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:47:08 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:47:08 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:47:08 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:47:08 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:47:08 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:47:08 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:47:08 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:47:08 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:47:02.669394
2025-05-22 10:47:08 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:47:08 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:47:08 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:47:08 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:47:02.669394
2025-05-22 10:47:08 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:47:08 - callbacks.losses - CRITICAL - [LOSSES POPULATE CARGA] Acionado. Aba: tab-carga, Trigger: N/A
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:47:08 - callbacks.losses - INFO - [LOSSES POPULATE CARGA] Valores encontrados em 'resultados_perdas_carga': [100, 100, 100, 75]
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:47:08 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 10:47:08 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 29.04ms
2025-05-22 10:47:09 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 10:47:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 10:47:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 10:47:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 10:47:09 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /dados

2025-05-22 10:47:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 10:47:09 - callbacks.navigation_dcc_links - INFO - URL normalizada: dados
2025-05-22 10:47:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 10:47:09 - callbacks.navigation_dcc_links - INFO - Carregando layout para: dados (1. Dados Básicos)
2025-05-22 10:47:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 10:47:09 - layouts.transformer_inputs - INFO - Criando layout Dados Básicos (v5 - Layout Geral e Pesos em 2 linhas)...
2025-05-22 10:47:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 10:47:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 10:47:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 10:47:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 10:47:09 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 10:47:09 - layouts.transformer_inputs - INFO - Classes de tensão carregadas para dropdown: 27 opções.
2025-05-22 10:47:09 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 10:47:09 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 10:47:09 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 10:47:09 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:47:09 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:47:09 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:47:09 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:47:02.669394
2025-05-22 10:47:09 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:47:09 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:47:09 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:47:09 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:47:02.669394
2025-05-22 10:47:09 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:47:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 10:47:09 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 26.54ms
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /dados
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=None, TA=None, TI=None
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:47:09 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /dados
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /dados
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 10:47:09 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=None, SIL=None, TA=None, TI=/dados
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=None, SIL=None, TA=None, TI=/dados
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=None, SIL=None
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:47:09 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:47:09 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:47:09 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:47:09 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 10:47:09 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:47:09 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 10:47:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:47:13 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: tensao_at
2025-05-22 10:47:13 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.1, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:47:13 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:47:13 - utils.elec - INFO - [elec] Corrente AT calculada: 167.11A (Fórmula: 20.0*1000/(1.7320508075688772*69.1))
2025-05-22 10:47:13 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: tensao_at. Norma: IEC, Um_kv: 72.5, Tensão: 69.1, Path: /dados
2025-05-22 10:47:13 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:47:13 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: tensao_at. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69.1
2025-05-22 10:47:13 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:47:13 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:47:13 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:47:13 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=None, TA=None, TI=None
2025-05-22 10:47:13 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:47:13 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:47:13 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:47:13 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:47:13 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:47:13 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:47:13 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.11, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:47:13 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 10:47:13 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:47:13 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 10:47:13 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:47:13 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 10:47:13 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:47:13 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:47:13 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:47:13 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 10:47:13 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:47:13 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_104713.json
2025-05-22 10:47:13 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250519_151211.json
2025-05-22 10:47:13 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:47:13 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:47:13 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:47:13 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:55:09 - utils.logger - INFO - Logging configurado. Nível: INFO. Arquivo: app_2025-05-22.log
2025-05-22 10:55:09 - callbacks.short_circuit - INFO - Registrando callbacks do módulo short_circuit para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 10:55:09 - callbacks.impulse - INFO - Callbacks do módulo de impulso já registrados via decoradores @dash.callback para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500.
2025-05-22 10:55:09 - callbacks.applied_voltage - INFO - Registrando callbacks de tensão aplicada...
2025-05-22 10:55:09 - callbacks.applied_voltage - INFO - Callbacks de tensão aplicada registrados com sucesso.
2025-05-22 10:55:09 - callbacks.history - INFO - Registrando callbacks de Histórico (VERSÃO REFEITA - Foco no MCP)
2025-05-22 10:55:09 - callbacks.history - INFO - Callbacks de Histórico (VERSÃO REFEITA - Foco no MCP) registrados.
2025-05-22 10:55:09 - callbacks.insulation_level_callbacks - INFO - ==================== MÓDULO INSULATION_LEVEL_CALLBACKS (Options Only Logic) CARREGADO ====================
2025-05-22 10:55:09 - callbacks.insulation_level_callbacks - ERROR - ERRO: assets/tabela.json não encontrado!
2025-05-22 10:55:09 - callbacks.insulation_level_callbacks - INFO - Registrando callbacks de níveis de isolamento (APENAS OPÇÕES - V2)...
2025-05-22 10:55:09 - callbacks.insulation_level_callbacks - INFO - Callbacks de níveis de isolamento (APENAS OPÇÕES - V2) registrados.
2025-05-22 10:55:09 - app - ERROR - Função de registro 'register_temperature_rise_callbacks' não encontrada em temperature_rise: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\app.py", line 341, in <module>
    registration_function = getattr(module, reg_func_name)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
2025-05-22 10:55:09 - utils.standards_db - INFO - Tabelas 'standards_metadata' e 'standards_content_fts' criadas/verificadas.
2025-05-22 10:55:09 - app - INFO - Callbacks registrados. Total: 54
2025-05-22 10:55:09 - callbacks.navigation_dcc_links - INFO - 
[navigation_dcc_links.py] REGISTRANDO CALLBACK DE NAVEGAÇÃO (render_content)

2025-05-22 10:55:09 - callbacks.transformer_inputs - INFO - Registrando callbacks do módulo transformer_inputs para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 10:55:09 - callbacks.short_circuit - INFO - Registrando callbacks do módulo short_circuit para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 10:55:09 - callbacks.impulse - INFO - Callbacks do módulo de impulso já registrados via decoradores @dash.callback para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500.
2025-05-22 10:55:09 - callbacks.applied_voltage - INFO - Registrando callbacks de tensão aplicada...
2025-05-22 10:55:09 - callbacks.applied_voltage - INFO - Callbacks de tensão aplicada registrados com sucesso.
2025-05-22 10:55:09 - callbacks.history - INFO - Registrando callbacks de Histórico (VERSÃO REFEITA - Foco no MCP)
2025-05-22 10:55:09 - callbacks.history - INFO - Callbacks de Histórico (VERSÃO REFEITA - Foco no MCP) registrados.
2025-05-22 10:55:09 - callbacks.insulation_level_callbacks - INFO - Registrando callbacks de níveis de isolamento (APENAS OPÇÕES - V2)...
2025-05-22 10:55:09 - callbacks.insulation_level_callbacks - INFO - Callbacks de níveis de isolamento (APENAS OPÇÕES - V2) registrados.
2025-05-22 10:55:09 - __main__ - ERROR - Função de registro 'register_temperature_rise_callbacks' não encontrada em temperature_rise: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\app.py", line 341, in <module>
    registration_function = getattr(module, reg_func_name)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
2025-05-22 10:55:09 - utils.standards_db - INFO - Tabelas 'standards_metadata' e 'standards_content_fts' criadas/verificadas.
2025-05-22 10:55:09 - __main__ - INFO - Callbacks registrados. Total: 31
2025-05-22 10:55:09 - __main__ - INFO - Iniciando servidor Dash em http://127.0.0.1:8050/ (Debug: True)
2025-05-22 10:55:09 - dash.dash - INFO - Dash is running on http://127.0.0.1:8050/

2025-05-22 10:55:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: tensao_at. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /dados
2025-05-22 10:55:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:55:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: tensao_at. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 10:55:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=None, TA=None, TI=None
2025-05-22 10:55:46 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: tensao_at
2025-05-22 10:55:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:55:46 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:55:46 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:55:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:55:46 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:55:47 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 10:55:47 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:55:47 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:55:47 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:55:47 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 10:55:47 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:55:47 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 10:55:47 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:55:47 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:55:47 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:55:47 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 10:55:47 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:55:47 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:55:47 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:55:47 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:55:47 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:55:47 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:55:47 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:55:47 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105547.json
2025-05-22 10:55:47 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250519_151210.json
2025-05-22 10:55:47 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:55:47 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:55:47 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:55:47 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:56:16 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 10:56:16 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 10:56:16 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /perdas

2025-05-22 10:56:16 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 10:56:16 - callbacks.navigation_dcc_links - INFO - URL normalizada: perdas
2025-05-22 10:56:16 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 10:56:16 - callbacks.navigation_dcc_links - INFO - Carregando layout para: perdas (2. Perdas)
2025-05-22 10:56:16 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 10:56:16 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 10:56:16 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Store de origem transformer-inputs-store É a fonte-de-verdade para campos básicos
2025-05-22 10:56:16 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 10:56:16 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'losses-store'.
2025-05-22 10:56:16 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 10:56:16 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Dados básicos propagados para losses-store
2025-05-22 10:56:16 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 10:56:16 - callbacks.navigation_dcc_links - INFO - Propagação de dados para losses-store: {'losses-store': True}
2025-05-22 10:56:16 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 10:56:16 - layouts.losses - INFO - Creating Losses layout...
2025-05-22 10:56:16 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 10:56:16 - layouts.losses - INFO - [Losses Layout] Dados do transformador obtidos do losses-store.
2025-05-22 10:56:16 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 10:56:16 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 10:56:16 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 10:56:16 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 10:56:16 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: url. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /perdas
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: url. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /perdas
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=None, TA=None, TI=None
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:56:16 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: url. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /perdas
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=None, SIL=None, TA=None, TI=/perdas
2025-05-22 10:56:16 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:56:16 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=None, SIL=None, TA=None, TI=/perdas
2025-05-22 10:56:16 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=None, SIL=None
2025-05-22 10:56:16 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:56:16 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:56:16 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 10:56:16 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 10:56:16 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:56:16 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:56:16 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:56:16 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:55:47.383463
2025-05-22 10:56:16 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:56:16 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:56:16 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:56:16 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:55:47.383463
2025-05-22 10:56:16 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:56:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 10:56:16 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 37.63ms
2025-05-22 10:56:16 - callbacks.losses - CRITICAL - [LOSSES POPULATE CARGA] Acionado. Aba: tab-carga, Trigger: N/A
2025-05-22 10:56:16 - callbacks.losses - INFO - [LOSSES POPULATE CARGA] Valores encontrados em 'resultados_perdas_carga': [100, 100, 100, 75]
2025-05-22 10:56:18 - callbacks.losses - ERROR - [LOSSES CARGA] Seção 'resultados_perdas_vazio' não encontrada no losses_data.
2025-05-22 10:56:18 - callbacks.losses - INFO - [LOSSES CARGA] Encontrados dados de perdas em vazio no current_losses_store_data. Tentando usar esses dados.
2025-05-22 10:56:18 - callbacks.losses - INFO - [LOSSES CARGA] Valor de perdas_vazio_kw encontrado: 17
2025-05-22 10:56:26 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 10:56:26 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 10:56:26 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 10:56:26 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 10:56:26 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /dados

2025-05-22 10:56:26 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 10:56:26 - callbacks.navigation_dcc_links - INFO - URL normalizada: dados
2025-05-22 10:56:26 - callbacks.navigation_dcc_links - INFO - Carregando layout para: dados (1. Dados Básicos)
2025-05-22 10:56:26 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 10:56:26 - layouts.transformer_inputs - INFO - Criando layout Dados Básicos (v5 - Layout Geral e Pesos em 2 linhas)...
2025-05-22 10:56:26 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 10:56:26 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 10:56:26 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 10:56:26 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 10:56:26 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 10:56:26 - layouts.transformer_inputs - INFO - Classes de tensão carregadas para dropdown: 27 opções.
2025-05-22 10:56:26 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 10:56:26 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 10:56:26 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 10:56:26 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:56:26 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 10:56:26 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:56:26 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:56:26 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:55:47.383463
2025-05-22 10:56:26 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:56:26 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:56:26 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:56:26 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:55:47.383463
2025-05-22 10:56:26 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:56:26 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 10:56:26 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 37.52ms
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /dados
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /dados
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=None, TA=None, TI=None
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:56:26 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /dados
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:56:26 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=None, SIL=None, TA=None, TI=/dados
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=None, SIL=None
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:56:26 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=None, SIL=None, TA=None, TI=/dados
2025-05-22 10:56:26 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:56:26 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:56:26 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:56:26 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 10:56:26 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 10:56:26 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:56:40 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: impedancia
2025-05-22 10:56:40 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:56:40 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:56:40 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:56:40 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:56:40 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:56:40 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:56:40 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:56:40 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:56:40 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:56:40 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:56:40 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:56:40 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:56:40 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:56:40 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105640.json
2025-05-22 10:56:40 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_104658.json
2025-05-22 10:56:40 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:56:40 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:56:40 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:56:40 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:56:48 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: sil_at
2025-05-22 10:56:48 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:56:48 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:56:48 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:56:48 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:56:48 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:56:48 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:56:48 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:56:48 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:56:48 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:56:48 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: sil_at=NA_SIL
2025-05-22 10:56:48 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:56:48 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:56:48 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:56:48 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:56:48 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105648.json
2025-05-22 10:56:48 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_104700.json
2025-05-22 10:56:48 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:56:48 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:56:48 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:56:48 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:56:49 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: nbi_bt
2025-05-22 10:56:49 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:56:49 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:56:49 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:56:49 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:56:49 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:56:49 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:56:49 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:56:49 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:56:49 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:56:49 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: sil_at=NA_SIL
2025-05-22 10:56:49 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:56:49 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:56:49 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:56:49 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:56:49 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105649.json
2025-05-22 10:56:49 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_104702.json
2025-05-22 10:56:49 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:56:49 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:56:49 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:56:49 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:56:50 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: sil_bt
2025-05-22 10:56:50 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:56:50 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:56:50 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:56:50 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:56:50 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:56:50 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:56:50 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:56:50 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:56:50 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:56:50 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: sil_at=NA_SIL
2025-05-22 10:56:50 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:56:50 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:56:50 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:56:50 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:56:50 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105650.json
2025-05-22 10:56:50 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_104713.json
2025-05-22 10:56:50 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:56:50 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:56:50 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:56:50 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:56:51 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: nbi_terciario
2025-05-22 10:56:51 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:56:51 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:56:51 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:56:51 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:56:51 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:56:51 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:56:51 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:56:51 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:56:51 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:56:51 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: sil_at=NA_SIL
2025-05-22 10:56:51 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:56:51 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:56:51 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:56:51 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:56:51 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105651.json
2025-05-22 10:56:51 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105547.json
2025-05-22 10:56:51 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:56:51 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:56:51 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:56:51 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:56:53 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: sil_terciario
2025-05-22 10:56:53 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:56:53 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:56:53 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:56:53 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:56:53 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:56:53 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:56:53 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:56:53 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:56:53 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:56:53 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: sil_at=NA_SIL
2025-05-22 10:56:53 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:56:53 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:56:53 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:56:53 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:56:53 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105653.json
2025-05-22 10:56:53 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105640.json
2025-05-22 10:56:53 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:56:53 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:56:53 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:56:53 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:56:56 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: nbi_neutro_bt
2025-05-22 10:56:56 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:56:56 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:56:56 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:56:56 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:56:56 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:56:56 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:56:56 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:56:56 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:56:56 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:56:56 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: sil_at=NA_SIL
2025-05-22 10:56:56 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:56:56 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:56:56 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:56:56 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:56:56 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105656.json
2025-05-22 10:56:56 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105648.json
2025-05-22 10:56:56 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:56:56 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:56:56 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:56:56 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:56:57 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: sil_neutro_bt
2025-05-22 10:56:57 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:56:57 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:56:57 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:56:57 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:56:57 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:56:57 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:56:57 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:56:57 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:56:57 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:56:57 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: sil_at=NA_SIL
2025-05-22 10:56:57 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:56:57 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:56:57 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:56:57 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:56:57 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105657.json
2025-05-22 10:56:57 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105649.json
2025-05-22 10:56:57 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:56:57 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:56:57 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:56:57 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:57:03 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: teste_tensao_aplicada_bt
2025-05-22 10:57:03 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:57:03 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:57:03 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:57:03 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:57:03 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:57:03 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:57:03 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:57:03 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:57:03 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:57:03 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: sil_at=NA_SIL
2025-05-22 10:57:03 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:57:03 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:57:03 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:57:03 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:57:03 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105703.json
2025-05-22 10:57:03 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105650.json
2025-05-22 10:57:03 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:57:03 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:57:03 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:57:03 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:57:03 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: teste_tensao_aplicada_terciario
2025-05-22 10:57:03 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:57:03 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:57:03 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:57:03 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:57:03 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:57:03 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:57:03 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:57:03 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:57:03 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:57:03 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: sil_at=NA_SIL
2025-05-22 10:57:03 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:57:03 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:57:03 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:57:03 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:57:03 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105703.json
2025-05-22 10:57:03 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:57:03 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:57:03 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:57:03 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:57:05 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: teste_tensao_induzida_at
2025-05-22 10:57:05 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:57:05 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:57:05 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:57:05 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:57:05 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:57:05 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:57:05 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:57:05 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:57:05 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:57:05 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: sil_at=NA_SIL
2025-05-22 10:57:05 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: teste_tensao_induzida_at=145
2025-05-22 10:57:05 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Mantendo compatibilidade: teste_tensao_induzida=145
2025-05-22 10:57:05 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:57:05 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:57:05 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:57:05 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:57:05 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105705.json
2025-05-22 10:57:05 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105651.json
2025-05-22 10:57:05 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:57:05 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:57:05 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:57:05 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:57:06 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] Acionado por: teste_tensao_aplicada_at
2025-05-22 10:57:06 - utils.elec - INFO - [elec] Valores para cálculo: tipo=Trifásico, potencia=20.0, tensao_at=69.0, tensao_at_maior=72.0, tensao_at_menor=58.0, tensao_bt=13.8, tensao_terciario=6.0
2025-05-22 10:57:06 - utils.elec - INFO - [elec] Fator de cálculo (sqrt3): 1.7320508075688772
2025-05-22 10:57:06 - utils.elec - INFO - [elec] Corrente AT calculada: 167.35A (Fórmula: 20.0*1000/(1.7320508075688772*69.0))
2025-05-22 10:57:06 - utils.elec - INFO - [elec] Corrente AT tap maior calculada: 160.38A (Fórmula: 20.0*1000/(1.7320508075688772*72.0))
2025-05-22 10:57:06 - utils.elec - INFO - [elec] Corrente AT tap menor calculada: 199.09A (Fórmula: 20.0*1000/(1.7320508075688772*58.0))
2025-05-22 10:57:06 - utils.elec - INFO - [elec] Corrente BT calculada: 836.74A (Fórmula: 20.0*1000/(1.7320508075688772*13.8))
2025-05-22 10:57:06 - utils.elec - INFO - [elec] Corrente Terciário calculada: 1924.5A (Fórmula: 20.0*1000/(1.7320508075688772*6.0))
2025-05-22 10:57:06 - utils.elec - INFO - [elec] RESULTADOS FINAIS DE CORRENTES: {'corrente_nominal_at': 167.35, 'corrente_nominal_at_tap_maior': 160.38, 'corrente_nominal_at_tap_menor': 199.09, 'corrente_nominal_bt': 836.74, 'corrente_nominal_terciario': 1924.5}
2025-05-22 10:57:06 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: nbi_at=325
2025-05-22 10:57:06 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: sil_at=NA_SIL
2025-05-22 10:57:06 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: teste_tensao_aplicada_at=140
2025-05-22 10:57:06 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Salvando valor de isolamento: teste_tensao_induzida_at=145
2025-05-22 10:57:06 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Mantendo compatibilidade: teste_tensao_induzida=145
2025-05-22 10:57:06 - callbacks.transformer_inputs - INFO - [UpdateTransformerCalc] Sincronizando elevação de enrolamento: AT=BT=Terciário=65°C
2025-05-22 10:57:06 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'transformer-inputs-store'.
2025-05-22 10:57:06 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Salvando estado do MCP em disco...
2025-05-22 10:57:06 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:57:06 - utils.mcp_disk_persistence - INFO - Backup do estado do MCP criado: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105706.json
2025-05-22 10:57:06 - utils.mcp_disk_persistence - INFO - Backup antigo removido: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups\mcp_state_20250522_105653.json
2025-05-22 10:57:06 - utils.mcp_disk_persistence - INFO - Estado do MCP salvo em disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:57:06 - app_core.transformer_mcp - INFO - [MCP SAVE_TO_DISK] Estado do MCP salvo em disco com sucesso.
2025-05-22 10:57:06 - callbacks.transformer_inputs - DEBUG - [UpdateTransformerCalc] MCP atualizado e salvo no disco.
2025-05-22 10:57:06 - callbacks.transformer_inputs - ERROR - [UpdateTransformerCalc] Erro ao propagar dados: 'TransformerMCP' object has no attribute 'mcp'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 209, in update_transformer_calculations_and_mcp
    ensure_mcp_data_propagation(app_instance.mcp, "transformer-inputs-store", target_store)
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\mcp_persistence.py", line 118, in ensure_mcp_data_propagation
    if not app.mcp:
           ^^^^^^^
AttributeError: 'TransformerMCP' object has no attribute 'mcp'
2025-05-22 10:57:09 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 10:57:09 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 10:57:09 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /perdas

2025-05-22 10:57:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 10:57:09 - callbacks.navigation_dcc_links - INFO - URL normalizada: perdas
2025-05-22 10:57:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 10:57:09 - callbacks.navigation_dcc_links - INFO - Carregando layout para: perdas (2. Perdas)
2025-05-22 10:57:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 10:57:09 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Store de origem transformer-inputs-store É a fonte-de-verdade para campos básicos
2025-05-22 10:57:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 10:57:09 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'losses-store'.
2025-05-22 10:57:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 10:57:09 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Dados básicos propagados para losses-store
2025-05-22 10:57:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 10:57:09 - callbacks.navigation_dcc_links - INFO - Propagação de dados para losses-store: {'losses-store': True}
2025-05-22 10:57:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 10:57:09 - layouts.losses - INFO - Creating Losses layout...
2025-05-22 10:57:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 10:57:09 - layouts.losses - INFO - [Losses Layout] Dados do transformador obtidos do losses-store.
2025-05-22 10:57:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 10:57:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 10:57:09 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 10:57:09 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 10:57:09 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 10:57:09 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: url. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /perdas
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: url. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /perdas
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: url. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /perdas
2025-05-22 10:57:09 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/perdas
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 10:57:09 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:57:09 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 10:57:09 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/perdas
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 10:57:09 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 10:57:09 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:57:09 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:57:09 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 10:57:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:57:09 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:57:09 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:57:09 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 10:57:09 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:57:09 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:57:09 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:57:09 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 10:57:09 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:57:09 - callbacks.losses - CRITICAL - [LOSSES POPULATE CARGA] Acionado. Aba: tab-carga, Trigger: N/A
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:57:09 - callbacks.losses - INFO - [LOSSES POPULATE CARGA] Valores encontrados em 'resultados_perdas_carga': [100, 100, 100, 75]
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:57:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 10:57:09 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 140.78ms
2025-05-22 10:57:10 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 10:57:10 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 10:57:10 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 10:57:10 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /dados

2025-05-22 10:57:10 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 10:57:10 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 10:57:10 - callbacks.navigation_dcc_links - INFO - URL normalizada: dados
2025-05-22 10:57:10 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 10:57:10 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 10:57:10 - callbacks.navigation_dcc_links - INFO - Carregando layout para: dados (1. Dados Básicos)
2025-05-22 10:57:10 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 10:57:10 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 10:57:10 - layouts.transformer_inputs - INFO - Criando layout Dados Básicos (v5 - Layout Geral e Pesos em 2 linhas)...
2025-05-22 10:57:10 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 10:57:10 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 10:57:10 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 10:57:10 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 10:57:10 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 10:57:10 - layouts.transformer_inputs - INFO - Classes de tensão carregadas para dropdown: 27 opções.
2025-05-22 10:57:10 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:57:10 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:57:10 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:57:10 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:57:10 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 10:57:10 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:57:10 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:57:10 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:57:10 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 10:57:10 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:57:10 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 10:57:10 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 87.15ms
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /dados
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /dados
2025-05-22 10:57:10 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:57:10 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /dados
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:57:10 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 10:57:10 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 10:57:10 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:10 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:57:10 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:10 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 10:57:10 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:57:15 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 10:57:15 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 10:57:15 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /perdas

2025-05-22 10:57:15 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 10:57:15 - callbacks.navigation_dcc_links - INFO - URL normalizada: perdas
2025-05-22 10:57:15 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 10:57:15 - callbacks.navigation_dcc_links - INFO - Carregando layout para: perdas (2. Perdas)
2025-05-22 10:57:15 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 10:57:15 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 10:57:15 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Store de origem transformer-inputs-store É a fonte-de-verdade para campos básicos
2025-05-22 10:57:15 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 10:57:15 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'losses-store'.
2025-05-22 10:57:15 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 10:57:15 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Dados básicos propagados para losses-store
2025-05-22 10:57:15 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 10:57:15 - callbacks.navigation_dcc_links - INFO - Propagação de dados para losses-store: {'losses-store': True}
2025-05-22 10:57:15 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 10:57:15 - layouts.losses - INFO - Creating Losses layout...
2025-05-22 10:57:15 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 10:57:15 - layouts.losses - INFO - [Losses Layout] Dados do transformador obtidos do losses-store.
2025-05-22 10:57:15 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 10:57:15 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 10:57:15 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 10:57:15 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 10:57:15 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 10:57:15 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 10:57:15 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: url. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /perdas
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 10:57:15 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:15 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: url. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /perdas
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: url. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /perdas
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/perdas
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:57:15 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/perdas
2025-05-22 10:57:15 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:57:15 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:57:15 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:57:15 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 10:57:15 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 10:57:15 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:57:15 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 10:57:15 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:57:15 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:57:15 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:57:15 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 10:57:15 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:57:15 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:57:15 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:57:15 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 10:57:15 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 10:57:15 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 10:57:15 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 10:57:15 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 10:57:15 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 10:57:15 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 10:57:15 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 10:57:15 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:57:16 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:57:16 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:57:16 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:57:16 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 10:57:16 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:57:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:57:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:57:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:57:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:57:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:57:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:57:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:57:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:57:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:57:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:57:16 - callbacks.losses - CRITICAL - [LOSSES POPULATE CARGA] Acionado. Aba: tab-carga, Trigger: N/A
2025-05-22 10:57:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:57:16 - callbacks.losses - INFO - [LOSSES POPULATE CARGA] Valores encontrados em 'resultados_perdas_carga': [100, 100, 100, 75]
2025-05-22 10:57:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:57:16 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:57:16 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 10:57:16 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 90.11ms
2025-05-22 10:57:17 - callbacks.losses - ERROR - [LOSSES CARGA] Seção 'resultados_perdas_vazio' não encontrada no losses_data.
2025-05-22 10:57:17 - callbacks.losses - INFO - [LOSSES CARGA] Encontrados dados de perdas em vazio no current_losses_store_data. Tentando usar esses dados.
2025-05-22 10:57:17 - callbacks.losses - INFO - [LOSSES CARGA] Valor de perdas_vazio_kw encontrado: 17
2025-05-22 10:57:17 - callbacks.losses - INFO - [losses] Correntes obtidas do transformer_data: AT Nominal=167.35A, AT Tap Maior=160.38A, AT Tap Menor=199.09A
2025-05-22 10:57:17 - callbacks.losses - INFO - [losses] Correntes finais utilizadas: AT Nominal=167.35A, AT Tap Maior=160.38A, AT Tap Menor=199.09A
2025-05-22 10:57:17 - callbacks.losses - INFO - Suggesting config for Max V: 6.95 kV, Max Q Req: 11.32 MVAr, Type: Trifásico
2025-05-22 10:57:17 - callbacks.losses - INFO - Configuração do banco de capacitores: Tensão=7.0kV (Banco 13.8kV), Potência=11.4MVAr
2025-05-22 10:57:17 - callbacks.losses - INFO - [LOSSES CARGA] Dados atualizados em resultados_perdas_carga: dict_keys(['resultados', 'perdas_carga_nom', 'perdas_carga_min', 'perdas_carga_max', 'temperatura_referencia', 'suggested_cs_config', 'suggested_q_config', 'suggested_q_power_mvar', 'max_test_voltage_kv_overall', 'max_test_power_mvar_overall_required'])
2025-05-22 10:57:17 - callbacks.losses - INFO - [LOSSES CARGA] Valores de perdas: nom=100.0, min=100.0, max=100.0
2025-05-22 10:57:17 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'losses-store'.
2025-05-22 10:57:17 - callbacks.losses - CRITICAL - [LOSSES CALC CARGA] losses-store atualizado com: {'resultados': [{'Tap': 'Nominal', 'Tensão': 69.0, 'Corrente': 167.35, 'Vcc (%)': 8.0, 'Vcc (kV)': 5.52, 'Pnominal (kVA)': 20000.250482618958, 'Perdas totais (kW)': 100.0, 'Perdas Carga Sem Vazio (kW)': 83.0, 'Perdas a Frio (25°C) (kW)': 69.61290322580645, 'Tensão frio (kV)': 6.6159803167358735, 'Corrente frio (A)': 200.5768670300269, 'Pteste frio (MVA)': 2.298453252868166, 'Potencia Ativa EPS Frio (kW)': 100.0, 'Pteste frio (MVAr)': 2.296276846466961, 'Cap Bank Voltage Frio Com Fator (kV)': 13.8, 'Cap Bank Power Frio Com Fator (MVAr)': 10.000125241309481, 'Cap Bank Voltage Frio Sem Fator (kV)': 13.8, 'Cap Bank Power Frio Sem Fator (MVAr)': 10.000125241309481, 'Tensão quente (kV)': 6.027444923654824, 'Corrente quente (A)': 182.7342224589918, 'Pteste quente (MVA)': 1.9077161998805778, 'Potencia Ativa Quente (kW)': 83.0, 'Pteste quente (MVAr)': 1.9059097825675781, 'Cap Bank Voltage Quente Com Fator (kV)': 13.8, 'Cap Bank Power Quente Com Fator (MVAr)': 10.000125241309483, 'Cap Bank Voltage Quente Sem Fator (kV)': 13.8, 'Cap Bank Power Quente Sem Fator (MVAr)': 10.000125241309483, 'Tensão 25°C (kV)': 5.52, 'Corrente 25°C (A)': 167.35, 'Pteste 25°C (MVA)': 1.6000200386095167, 'Potencia Ativa 25°C (kW)': 69.61290322580645, 'Pteste 25°C (MVAr)': 1.598504978927646, 'Cap Bank Voltage 25°C Com Fator (kV)': 13.8, 'Cap Bank Power 25°C Com Fator (MVAr)': 10.000125241309481, 'Cap Bank Voltage 25°C Sem Fator (kV)': 13.8, 'Cap Bank Power 25°C Sem Fator (MVAr)': 10.000125241309481, 'CS Config 25°C': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config 25°C S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config 25°C': 'Q3, Q4, Q5', 'Q Config 25°C S/F': 'Q3, Q4, Q5', 'Q Power Provided 25°C (MVAr)': 10.8, 'Q Power Provided 25°C S/F (MVAr)': 10.8, 'CS Config Frio': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Frio S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Frio': 'Q3, Q4, Q5', 'Q Config Frio S/F': 'Q3, Q4, Q5', 'Q Power Provided Frio (MVAr)': 10.8, 'Q Power Provided Frio S/F (MVAr)': 10.8, 'CS Config Quente': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Quente S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Quente': 'Q3, Q4, Q5', 'Q Config Quente S/F': 'Q3, Q4, Q5', 'Q Power Provided Quente (MVAr)': 10.8, 'Q Power Provided Quente S/F (MVAr)': 10.8}, {'Tap': 'Menor', 'Tensão': 58.0, 'Corrente': 199.09, 'Vcc (%)': 10.0, 'Vcc (kV)': 5.8, 'Pnominal (kVA)': 20000.37172617549, 'Perdas totais (kW)': 100.0, 'Perdas Carga Sem Vazio (kW)': 83.0, 'Perdas a Frio (25°C) (kW)': 69.61290322580645, 'Tensão frio (kV)': 6.951573521207983, 'Corrente frio (A)': 238.6187538512582, 'Pteste frio (MVA)': 2.8730839829075077, 'Potencia Ativa EPS Frio (kW)': 100.0, 'Pteste frio (MVAr)': 2.871343165286878, 'Cap Bank Voltage Frio Com Fator (kV)': 13.8, 'Cap Bank Power Frio Com Fator (MVAr)': 11.32244587257093, 'Cap Bank Voltage Frio Sem Fator (kV)': 13.8, 'Cap Bank Power Frio Sem Fator (MVAr)': 11.32244587257093, 'Tensão quente (kV)': 6.333184883550358, 'Corrente quente (A)': 217.39203077000704, 'Pteste quente (MVA)': 2.3846597058132315, 'Potencia Ativa Quente (kW)': 83.0, 'Pteste quente (MVAr)': 2.383214827188109, 'Cap Bank Voltage Quente Com Fator (kV)': 13.8, 'Cap Bank Power Quente Com Fator (MVAr)': 11.322445872570931, 'Cap Bank Voltage Quente Sem Fator (kV)': 13.8, 'Cap Bank Power Quente Sem Fator (MVAr)': 11.322445872570931, 'Tensão 25°C (kV)': 5.8, 'Corrente 25°C (A)': 199.09, 'Pteste 25°C (MVA)': 2.000037172617549, 'Potencia Ativa 25°C (kW)': 69.61290322580645, 'Pteste 25°C (MVAr)': 1.9988253389319623, 'Cap Bank Voltage 25°C Com Fator (kV)': 13.8, 'Cap Bank Power 25°C Com Fator (MVAr)': 11.32244587257093, 'Cap Bank Voltage 25°C Sem Fator (kV)': 13.8, 'Cap Bank Power 25°C Sem Fator (MVAr)': 11.32244587257093, 'CS Config 25°C': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config 25°C S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config 25°C': 'Q2, Q3, Q4, Q5', 'Q Config 25°C S/F': 'Q2, Q3, Q4, Q5', 'Q Power Provided 25°C (MVAr)': 11.4, 'Q Power Provided 25°C S/F (MVAr)': 11.4, 'CS Config Frio': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Frio S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Frio': 'Q2, Q3, Q4, Q5', 'Q Config Frio S/F': 'Q2, Q3, Q4, Q5', 'Q Power Provided Frio (MVAr)': 11.4, 'Q Power Provided Frio S/F (MVAr)': 11.4, 'CS Config Quente': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Quente S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Quente': 'Q2, Q3, Q4, Q5', 'Q Config Quente S/F': 'Q2, Q3, Q4, Q5', 'Q Power Provided Quente (MVAr)': 11.4, 'Q Power Provided Quente S/F (MVAr)': 11.4}, {'Tap': 'Maior', 'Tensão': 72.0, 'Corrente': 160.38, 'Vcc (%)': 8.0, 'Vcc (kV)': 5.76, 'Pnominal (kVA)': 20000.61421328855, 'Perdas totais (kW)': 100.0, 'Perdas Carga Sem Vazio (kW)': 83.0, 'Perdas a Frio (25°C) (kW)': 69.61290322580645, 'Tensão frio (kV)': 6.903631634854825, 'Corrente frio (A)': 192.22299333298903, 'Pteste frio (MVA)': 2.298495053241687, 'Potencia Ativa EPS Frio (kW)': 100.0, 'Pteste frio (MVAr)': 2.2963186864580676, 'Cap Bank Voltage Frio Com Fator (kV)': 13.8, 'Cap Bank Power Frio Com Fator (MVAr)': 9.184309825372958, 'Cap Bank Voltage Frio Sem Fator (kV)': 13.8, 'Cap Bank Power Frio Sem Fator (MVAr)': 9.184309825372958, 'Tensão quente (kV)': 6.289507746422425, 'Corrente quente (A)': 175.1234813144494, 'Pteste quente (MVA)': 1.9077508941906, 'Potencia Ativa Quente (kW)': 83.0, 'Pteste quente (MVAr)': 1.9059445097601961, 'Cap Bank Voltage Quente Com Fator (kV)': 13.8, 'Cap Bank Power Quente Com Fator (MVAr)': 9.184309825372955, 'Cap Bank Voltage Quente Sem Fator (kV)': 13.8, 'Cap Bank Power Quente Sem Fator (MVAr)': 9.184309825372955, 'Tensão 25°C (kV)': 5.76, 'Corrente 25°C (A)': 160.38, 'Pteste 25°C (MVA)': 1.6000491370630838, 'Potencia Ativa 25°C (kW)': 69.61290322580645, 'Pteste 25°C (MVAr)': 1.5985341049601642, 'Cap Bank Voltage 25°C Com Fator (kV)': 13.8, 'Cap Bank Power 25°C Com Fator (MVAr)': 9.184309825372953, 'Cap Bank Voltage 25°C Sem Fator (kV)': 13.8, 'Cap Bank Power 25°C Sem Fator (MVAr)': 9.184309825372953, 'CS Config 25°C': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config 25°C S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config 25°C': 'Q1, Q2, Q4, Q5', 'Q Config 25°C S/F': 'Q1, Q2, Q4, Q5', 'Q Power Provided 25°C (MVAr)': 9.3, 'Q Power Provided 25°C S/F (MVAr)': 9.3, 'CS Config Frio': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Frio S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Frio': 'Q1, Q2, Q4, Q5', 'Q Config Frio S/F': 'Q1, Q2, Q4, Q5', 'Q Power Provided Frio (MVAr)': 9.3, 'Q Power Provided Frio S/F (MVAr)': 9.3, 'CS Config Quente': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Quente S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Quente': 'Q1, Q2, Q4, Q5', 'Q Config Quente S/F': 'Q1, Q2, Q4, Q5', 'Q Power Provided Quente (MVAr)': 9.3, 'Q Power Provided Quente S/F (MVAr)': 9.3}], 'perdas_carga_nom': 100.0, 'perdas_carga_min': 100.0, 'perdas_carga_max': 100.0, 'temperatura_referencia': 75, 'suggested_cs_config': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'suggested_q_config': 'Q2, Q3, Q4, Q5', 'suggested_q_power_mvar': 11.4, 'max_test_voltage_kv_overall': 6.951573521207983, 'max_test_power_mvar_overall_required': 11.322445872570931}
2025-05-22 10:57:17 - callbacks.losses - INFO - [LOSSES CALC CARGA] Verificação: dados armazenados corretamente no MCP. Chaves em resultados_perdas_carga: dict_keys(['resultados', 'perdas_carga_nom', 'perdas_carga_min', 'perdas_carga_max', 'temperatura_referencia', 'suggested_cs_config', 'suggested_q_config', 'suggested_q_power_mvar', 'max_test_voltage_kv_overall', 'max_test_power_mvar_overall_required'])
2025-05-22 10:57:18 - callbacks.losses - INFO - [LOSSES CALC CARGA] Verificação: dados de perdas em vazio ainda presentes no MCP. perdas_vazio_kw = 17
2025-05-22 10:57:18 - callbacks.losses - INFO - Cálculo de perdas em carga concluído para Tref=75°C. Max V: 7.0 kV, Max Q Req: 11.3 MVAr.
2025-05-22 10:57:18 - callbacks.losses - INFO - Sugestão Geral - CS: CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC, Q: Q2, Q3, Q4, Q5 (11.4 MVAr)
2025-05-22 10:57:18 - callbacks.losses - CRITICAL - [LOSSES POPULATE CARGA] Acionado. Aba: tab-carga, Trigger: losses-store
2025-05-22 10:57:18 - callbacks.losses - INFO - [LOSSES POPULATE CARGA] Valores encontrados em 'resultados_perdas_carga': [100, 100, 100, 75]
2025-05-22 10:57:18 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: losses-store
2025-05-22 10:57:18 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:57:18 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:57:18 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:57:18 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 10:57:18 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:57:18 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:57:18 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:57:18 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 10:57:18 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 10:57:18 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 10:57:18 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 10:57:18 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 10:57:18 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 10:57:18 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 10:57:18 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:57:18 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:57:18 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:57:18 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 10:57:18 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:57:18 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:57:18 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 10:57:18 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 79.52ms
2025-05-22 10:57:32 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 10:57:32 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 10:57:32 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 10:57:32 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 10:57:32 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /dados

2025-05-22 10:57:32 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 10:57:32 - callbacks.navigation_dcc_links - INFO - URL normalizada: dados
2025-05-22 10:57:32 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 10:57:32 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 10:57:32 - callbacks.navigation_dcc_links - INFO - Carregando layout para: dados (1. Dados Básicos)
2025-05-22 10:57:32 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 10:57:32 - layouts.transformer_inputs - INFO - Criando layout Dados Básicos (v5 - Layout Geral e Pesos em 2 linhas)...
2025-05-22 10:57:32 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 10:57:32 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 10:57:32 - layouts.transformer_inputs - INFO - Classes de tensão carregadas para dropdown: 27 opções.
2025-05-22 10:57:32 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 10:57:32 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 10:57:32 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 10:57:32 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 10:57:32 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:57:32 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:57:32 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:57:32 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:57:32 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 10:57:32 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 10:57:32 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 10:57:32 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 10:57:32 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 10:57:32 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 10:57:32 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 10:57:32 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 110.5ms
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /dados
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /dados
2025-05-22 10:57:32 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:57:32 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /dados
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 10:57:32 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 10:57:32 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 10:57:32 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:32 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 10:57:32 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 10:57:32 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 10:57:32 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:03:57 - utils.logger - INFO - Logging configurado. Nível: INFO. Arquivo: app_2025-05-22.log
2025-05-22 11:03:57 - callbacks.short_circuit - INFO - Registrando callbacks do módulo short_circuit para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 11:03:57 - callbacks.impulse - INFO - Callbacks do módulo de impulso já registrados via decoradores @dash.callback para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500.
2025-05-22 11:03:57 - callbacks.applied_voltage - INFO - Registrando callbacks de tensão aplicada...
2025-05-22 11:03:57 - callbacks.applied_voltage - INFO - Callbacks de tensão aplicada registrados com sucesso.
2025-05-22 11:03:57 - callbacks.history - INFO - Registrando callbacks de Histórico (VERSÃO REFEITA - Foco no MCP)
2025-05-22 11:03:57 - callbacks.history - INFO - Callbacks de Histórico (VERSÃO REFEITA - Foco no MCP) registrados.
2025-05-22 11:03:57 - callbacks.insulation_level_callbacks - INFO - ==================== MÓDULO INSULATION_LEVEL_CALLBACKS (Options Only Logic) CARREGADO ====================
2025-05-22 11:03:57 - callbacks.insulation_level_callbacks - ERROR - ERRO: assets/tabela.json não encontrado!
2025-05-22 11:03:57 - callbacks.insulation_level_callbacks - INFO - Registrando callbacks de níveis de isolamento (APENAS OPÇÕES - V2)...
2025-05-22 11:03:57 - callbacks.insulation_level_callbacks - INFO - Callbacks de níveis de isolamento (APENAS OPÇÕES - V2) registrados.
2025-05-22 11:03:57 - app - ERROR - Função de registro 'register_temperature_rise_callbacks' não encontrada em temperature_rise: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\app.py", line 341, in <module>
    registration_function = getattr(module, reg_func_name)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
2025-05-22 11:03:57 - utils.standards_db - INFO - Tabelas 'standards_metadata' e 'standards_content_fts' criadas/verificadas.
2025-05-22 11:03:57 - app - INFO - Callbacks registrados. Total: 54
2025-05-22 11:03:57 - callbacks.navigation_dcc_links - INFO - 
[navigation_dcc_links.py] REGISTRANDO CALLBACK DE NAVEGAÇÃO (render_content)

2025-05-22 11:03:57 - callbacks.transformer_inputs - INFO - Registrando callbacks do módulo transformer_inputs para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 11:03:57 - callbacks.short_circuit - INFO - Registrando callbacks do módulo short_circuit para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 11:03:57 - callbacks.impulse - INFO - Callbacks do módulo de impulso já registrados via decoradores @dash.callback para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500.
2025-05-22 11:03:57 - callbacks.applied_voltage - INFO - Registrando callbacks de tensão aplicada...
2025-05-22 11:03:57 - callbacks.applied_voltage - INFO - Callbacks de tensão aplicada registrados com sucesso.
2025-05-22 11:03:57 - callbacks.history - INFO - Registrando callbacks de Histórico (VERSÃO REFEITA - Foco no MCP)
2025-05-22 11:03:57 - callbacks.history - INFO - Callbacks de Histórico (VERSÃO REFEITA - Foco no MCP) registrados.
2025-05-22 11:03:57 - callbacks.insulation_level_callbacks - INFO - Registrando callbacks de níveis de isolamento (APENAS OPÇÕES - V2)...
2025-05-22 11:03:57 - callbacks.insulation_level_callbacks - INFO - Callbacks de níveis de isolamento (APENAS OPÇÕES - V2) registrados.
2025-05-22 11:03:57 - __main__ - ERROR - Função de registro 'register_temperature_rise_callbacks' não encontrada em temperature_rise: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\app.py", line 341, in <module>
    registration_function = getattr(module, reg_func_name)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
2025-05-22 11:03:57 - utils.standards_db - INFO - Tabelas 'standards_metadata' e 'standards_content_fts' criadas/verificadas.
2025-05-22 11:03:57 - __main__ - INFO - Callbacks registrados. Total: 31
2025-05-22 11:03:57 - __main__ - INFO - Iniciando servidor Dash em http://127.0.0.1:8050/ (Debug: True)
2025-05-22 11:03:57 - dash.dash - INFO - Dash is running on http://127.0.0.1:8050/

2025-05-22 11:04:02 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:04:02 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:04:02 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:04:02 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:04:02 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /dados

2025-05-22 11:04:02 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: transformer-inputs-store
2025-05-22 11:04:02 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:04:02 - callbacks.navigation_dcc_links - INFO - URL normalizada: dados
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:04:02 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:04:02 - callbacks.navigation_dcc_links - INFO - Carregando layout para: dados (1. Dados Básicos)
2025-05-22 11:04:02 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:04:02 - layouts.transformer_inputs - INFO - Criando layout Dados Básicos (v5 - Layout Geral e Pesos em 2 linhas)...
2025-05-22 11:04:02 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:04:02 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:04:02 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:04:02 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:04:02 - layouts.transformer_inputs - INFO - Classes de tensão carregadas para dropdown: 27 opções.
2025-05-22 11:04:02 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:04:02 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:04:02 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 54.69ms
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:04:02 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:04:02 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:04:02 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:04:02 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 66.58ms
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /dados
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /dados
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:04:02 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:04:02 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /dados
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 11:04:02 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 11:04:02 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 11:04:02 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 11:04:02 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:04:02 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:04:02 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:04:03 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:04:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:04:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 11:04:03 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:04:03 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 11:04:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 11:04:03 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 11:04:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 11:04:03 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:04:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:04:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 11:04:03 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:04:09 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 11:04:09 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:04:09 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /perdas

2025-05-22 11:04:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:04:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:04:09 - callbacks.navigation_dcc_links - INFO - URL normalizada: perdas
2025-05-22 11:04:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:04:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:04:09 - callbacks.navigation_dcc_links - INFO - Carregando layout para: perdas (2. Perdas)
2025-05-22 11:04:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:04:09 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Store de origem transformer-inputs-store É a fonte-de-verdade para campos básicos
2025-05-22 11:04:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:04:09 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'losses-store'.
2025-05-22 11:04:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:04:09 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Dados básicos propagados para losses-store
2025-05-22 11:04:09 - callbacks.navigation_dcc_links - INFO - Propagação de dados para losses-store: {'losses-store': True}
2025-05-22 11:04:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:04:09 - layouts.losses - INFO - Creating Losses layout...
2025-05-22 11:04:09 - layouts.losses - INFO - [Losses Layout] Dados do transformador obtidos do losses-store.
2025-05-22 11:04:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:04:09 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:04:09 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:04:09 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:04:09 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:04:09 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: url. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /perdas
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: url. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /perdas
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:04:09 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/perdas
2025-05-22 11:04:09 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: url. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /perdas
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 11:04:09 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:04:09 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/perdas
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 11:04:09 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:04:09 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:04:09 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:04:09 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 11:04:09 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:04:09 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:04:09 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:04:09 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:04:09 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:04:09 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:04:09 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:04:09 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:04:09 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:04:09 - callbacks.losses - CRITICAL - [LOSSES POPULATE CARGA] Acionado. Aba: tab-carga, Trigger: N/A
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:04:09 - callbacks.losses - INFO - [LOSSES POPULATE CARGA] Valores encontrados em 'resultados_perdas_carga': [100, 100, 100, 75]
2025-05-22 11:04:09 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:04:09 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 35.98ms
2025-05-22 11:04:11 - callbacks.losses - ERROR - [LOSSES CARGA] Seção 'resultados_perdas_vazio' não encontrada no losses_data.
2025-05-22 11:04:11 - callbacks.losses - INFO - [LOSSES CARGA] Encontrados dados de perdas em vazio no current_losses_store_data. Tentando usar esses dados.
2025-05-22 11:04:11 - callbacks.losses - INFO - [LOSSES CARGA] Valor de perdas_vazio_kw encontrado: 17
2025-05-22 11:04:11 - callbacks.losses - INFO - [losses] Correntes obtidas do transformer_data: AT Nominal=167.35A, AT Tap Maior=160.38A, AT Tap Menor=199.09A
2025-05-22 11:04:11 - callbacks.losses - INFO - [losses] Correntes finais utilizadas: AT Nominal=167.35A, AT Tap Maior=160.38A, AT Tap Menor=199.09A
2025-05-22 11:04:11 - callbacks.losses - INFO - Suggesting config for Max V: 6.95 kV, Max Q Req: 11.32 MVAr, Type: Trifásico
2025-05-22 11:04:11 - callbacks.losses - INFO - Configuração do banco de capacitores: Tensão=7.0kV (Banco 13.8kV), Potência=11.4MVAr
2025-05-22 11:04:11 - callbacks.losses - INFO - [LOSSES CARGA] Dados atualizados em resultados_perdas_carga: dict_keys(['resultados', 'perdas_carga_nom', 'perdas_carga_min', 'perdas_carga_max', 'temperatura_referencia', 'suggested_cs_config', 'suggested_q_config', 'suggested_q_power_mvar', 'max_test_voltage_kv_overall', 'max_test_power_mvar_overall_required'])
2025-05-22 11:04:11 - callbacks.losses - INFO - [LOSSES CARGA] Valores de perdas: nom=100.0, min=100.0, max=100.0
2025-05-22 11:04:11 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'losses-store'.
2025-05-22 11:04:11 - callbacks.losses - CRITICAL - [LOSSES CALC CARGA] losses-store atualizado com: {'resultados': [{'Tap': 'Nominal', 'Tensão': 69.0, 'Corrente': 167.35, 'Vcc (%)': 8.0, 'Vcc (kV)': 5.52, 'Pnominal (kVA)': 20000.250482618958, 'Perdas totais (kW)': 100.0, 'Perdas Carga Sem Vazio (kW)': 83.0, 'Perdas a Frio (25°C) (kW)': 69.61290322580645, 'Tensão frio (kV)': 6.6159803167358735, 'Corrente frio (A)': 200.5768670300269, 'Pteste frio (MVA)': 2.298453252868166, 'Potencia Ativa EPS Frio (kW)': 100.0, 'Pteste frio (MVAr)': 2.296276846466961, 'Cap Bank Voltage Frio Com Fator (kV)': 13.8, 'Cap Bank Power Frio Com Fator (MVAr)': 10.000125241309481, 'Cap Bank Voltage Frio Sem Fator (kV)': 13.8, 'Cap Bank Power Frio Sem Fator (MVAr)': 10.000125241309481, 'Tensão quente (kV)': 6.027444923654824, 'Corrente quente (A)': 182.7342224589918, 'Pteste quente (MVA)': 1.9077161998805778, 'Potencia Ativa Quente (kW)': 83.0, 'Pteste quente (MVAr)': 1.9059097825675781, 'Cap Bank Voltage Quente Com Fator (kV)': 13.8, 'Cap Bank Power Quente Com Fator (MVAr)': 10.000125241309483, 'Cap Bank Voltage Quente Sem Fator (kV)': 13.8, 'Cap Bank Power Quente Sem Fator (MVAr)': 10.000125241309483, 'Tensão 25°C (kV)': 5.52, 'Corrente 25°C (A)': 167.35, 'Pteste 25°C (MVA)': 1.6000200386095167, 'Potencia Ativa 25°C (kW)': 69.61290322580645, 'Pteste 25°C (MVAr)': 1.598504978927646, 'Cap Bank Voltage 25°C Com Fator (kV)': 13.8, 'Cap Bank Power 25°C Com Fator (MVAr)': 10.000125241309481, 'Cap Bank Voltage 25°C Sem Fator (kV)': 13.8, 'Cap Bank Power 25°C Sem Fator (MVAr)': 10.000125241309481, 'CS Config 25°C': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config 25°C S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config 25°C': 'Q3, Q4, Q5', 'Q Config 25°C S/F': 'Q3, Q4, Q5', 'Q Power Provided 25°C (MVAr)': 10.8, 'Q Power Provided 25°C S/F (MVAr)': 10.8, 'CS Config Frio': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Frio S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Frio': 'Q3, Q4, Q5', 'Q Config Frio S/F': 'Q3, Q4, Q5', 'Q Power Provided Frio (MVAr)': 10.8, 'Q Power Provided Frio S/F (MVAr)': 10.8, 'CS Config Quente': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Quente S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Quente': 'Q3, Q4, Q5', 'Q Config Quente S/F': 'Q3, Q4, Q5', 'Q Power Provided Quente (MVAr)': 10.8, 'Q Power Provided Quente S/F (MVAr)': 10.8}, {'Tap': 'Menor', 'Tensão': 58.0, 'Corrente': 199.09, 'Vcc (%)': 10.0, 'Vcc (kV)': 5.8, 'Pnominal (kVA)': 20000.37172617549, 'Perdas totais (kW)': 100.0, 'Perdas Carga Sem Vazio (kW)': 83.0, 'Perdas a Frio (25°C) (kW)': 69.61290322580645, 'Tensão frio (kV)': 6.951573521207983, 'Corrente frio (A)': 238.6187538512582, 'Pteste frio (MVA)': 2.8730839829075077, 'Potencia Ativa EPS Frio (kW)': 100.0, 'Pteste frio (MVAr)': 2.871343165286878, 'Cap Bank Voltage Frio Com Fator (kV)': 13.8, 'Cap Bank Power Frio Com Fator (MVAr)': 11.32244587257093, 'Cap Bank Voltage Frio Sem Fator (kV)': 13.8, 'Cap Bank Power Frio Sem Fator (MVAr)': 11.32244587257093, 'Tensão quente (kV)': 6.333184883550358, 'Corrente quente (A)': 217.39203077000704, 'Pteste quente (MVA)': 2.3846597058132315, 'Potencia Ativa Quente (kW)': 83.0, 'Pteste quente (MVAr)': 2.383214827188109, 'Cap Bank Voltage Quente Com Fator (kV)': 13.8, 'Cap Bank Power Quente Com Fator (MVAr)': 11.322445872570931, 'Cap Bank Voltage Quente Sem Fator (kV)': 13.8, 'Cap Bank Power Quente Sem Fator (MVAr)': 11.322445872570931, 'Tensão 25°C (kV)': 5.8, 'Corrente 25°C (A)': 199.09, 'Pteste 25°C (MVA)': 2.000037172617549, 'Potencia Ativa 25°C (kW)': 69.61290322580645, 'Pteste 25°C (MVAr)': 1.9988253389319623, 'Cap Bank Voltage 25°C Com Fator (kV)': 13.8, 'Cap Bank Power 25°C Com Fator (MVAr)': 11.32244587257093, 'Cap Bank Voltage 25°C Sem Fator (kV)': 13.8, 'Cap Bank Power 25°C Sem Fator (MVAr)': 11.32244587257093, 'CS Config 25°C': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config 25°C S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config 25°C': 'Q2, Q3, Q4, Q5', 'Q Config 25°C S/F': 'Q2, Q3, Q4, Q5', 'Q Power Provided 25°C (MVAr)': 11.4, 'Q Power Provided 25°C S/F (MVAr)': 11.4, 'CS Config Frio': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Frio S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Frio': 'Q2, Q3, Q4, Q5', 'Q Config Frio S/F': 'Q2, Q3, Q4, Q5', 'Q Power Provided Frio (MVAr)': 11.4, 'Q Power Provided Frio S/F (MVAr)': 11.4, 'CS Config Quente': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Quente S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Quente': 'Q2, Q3, Q4, Q5', 'Q Config Quente S/F': 'Q2, Q3, Q4, Q5', 'Q Power Provided Quente (MVAr)': 11.4, 'Q Power Provided Quente S/F (MVAr)': 11.4}, {'Tap': 'Maior', 'Tensão': 72.0, 'Corrente': 160.38, 'Vcc (%)': 8.0, 'Vcc (kV)': 5.76, 'Pnominal (kVA)': 20000.61421328855, 'Perdas totais (kW)': 100.0, 'Perdas Carga Sem Vazio (kW)': 83.0, 'Perdas a Frio (25°C) (kW)': 69.61290322580645, 'Tensão frio (kV)': 6.903631634854825, 'Corrente frio (A)': 192.22299333298903, 'Pteste frio (MVA)': 2.298495053241687, 'Potencia Ativa EPS Frio (kW)': 100.0, 'Pteste frio (MVAr)': 2.2963186864580676, 'Cap Bank Voltage Frio Com Fator (kV)': 13.8, 'Cap Bank Power Frio Com Fator (MVAr)': 9.184309825372958, 'Cap Bank Voltage Frio Sem Fator (kV)': 13.8, 'Cap Bank Power Frio Sem Fator (MVAr)': 9.184309825372958, 'Tensão quente (kV)': 6.289507746422425, 'Corrente quente (A)': 175.1234813144494, 'Pteste quente (MVA)': 1.9077508941906, 'Potencia Ativa Quente (kW)': 83.0, 'Pteste quente (MVAr)': 1.9059445097601961, 'Cap Bank Voltage Quente Com Fator (kV)': 13.8, 'Cap Bank Power Quente Com Fator (MVAr)': 9.184309825372955, 'Cap Bank Voltage Quente Sem Fator (kV)': 13.8, 'Cap Bank Power Quente Sem Fator (MVAr)': 9.184309825372955, 'Tensão 25°C (kV)': 5.76, 'Corrente 25°C (A)': 160.38, 'Pteste 25°C (MVA)': 1.6000491370630838, 'Potencia Ativa 25°C (kW)': 69.61290322580645, 'Pteste 25°C (MVAr)': 1.5985341049601642, 'Cap Bank Voltage 25°C Com Fator (kV)': 13.8, 'Cap Bank Power 25°C Com Fator (MVAr)': 9.184309825372953, 'Cap Bank Voltage 25°C Sem Fator (kV)': 13.8, 'Cap Bank Power 25°C Sem Fator (MVAr)': 9.184309825372953, 'CS Config 25°C': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config 25°C S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config 25°C': 'Q1, Q2, Q4, Q5', 'Q Config 25°C S/F': 'Q1, Q2, Q4, Q5', 'Q Power Provided 25°C (MVAr)': 9.3, 'Q Power Provided 25°C S/F (MVAr)': 9.3, 'CS Config Frio': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Frio S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Frio': 'Q1, Q2, Q4, Q5', 'Q Config Frio S/F': 'Q1, Q2, Q4, Q5', 'Q Power Provided Frio (MVAr)': 9.3, 'Q Power Provided Frio S/F (MVAr)': 9.3, 'CS Config Quente': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Quente S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Quente': 'Q1, Q2, Q4, Q5', 'Q Config Quente S/F': 'Q1, Q2, Q4, Q5', 'Q Power Provided Quente (MVAr)': 9.3, 'Q Power Provided Quente S/F (MVAr)': 9.3}], 'perdas_carga_nom': 100.0, 'perdas_carga_min': 100.0, 'perdas_carga_max': 100.0, 'temperatura_referencia': 75, 'suggested_cs_config': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'suggested_q_config': 'Q2, Q3, Q4, Q5', 'suggested_q_power_mvar': 11.4, 'max_test_voltage_kv_overall': 6.951573521207983, 'max_test_power_mvar_overall_required': 11.322445872570931}
2025-05-22 11:04:11 - callbacks.losses - INFO - [LOSSES CALC CARGA] Verificação: dados armazenados corretamente no MCP. Chaves em resultados_perdas_carga: dict_keys(['resultados', 'perdas_carga_nom', 'perdas_carga_min', 'perdas_carga_max', 'temperatura_referencia', 'suggested_cs_config', 'suggested_q_config', 'suggested_q_power_mvar', 'max_test_voltage_kv_overall', 'max_test_power_mvar_overall_required'])
2025-05-22 11:04:11 - callbacks.losses - INFO - [LOSSES CALC CARGA] Verificação: dados de perdas em vazio ainda presentes no MCP. perdas_vazio_kw = 17
2025-05-22 11:04:11 - callbacks.losses - INFO - Cálculo de perdas em carga concluído para Tref=75°C. Max V: 7.0 kV, Max Q Req: 11.3 MVAr.
2025-05-22 11:04:11 - callbacks.losses - INFO - Sugestão Geral - CS: CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC, Q: Q2, Q3, Q4, Q5 (11.4 MVAr)
2025-05-22 11:04:11 - callbacks.losses - CRITICAL - [LOSSES POPULATE CARGA] Acionado. Aba: tab-carga, Trigger: losses-store
2025-05-22 11:04:11 - callbacks.losses - INFO - [LOSSES POPULATE CARGA] Valores encontrados em 'resultados_perdas_carga': [100, 100, 100, 75]
2025-05-22 11:04:11 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: losses-store
2025-05-22 11:04:11 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:04:11 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:04:11 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:04:11 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:04:11 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:04:11 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:04:11 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:04:11 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:04:11 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:04:11 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:04:11 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:04:11 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:04:11 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:04:11 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:04:11 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:04:11 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:04:11 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:04:11 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:04:11 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:04:11 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:04:11 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:04:11 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 26.12ms
2025-05-22 11:05:05 - utils.logger - INFO - Logging configurado. Nível: INFO. Arquivo: app_2025-05-22.log
2025-05-22 11:05:05 - callbacks.short_circuit - INFO - Registrando callbacks do módulo short_circuit para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 11:05:05 - callbacks.impulse - INFO - Callbacks do módulo de impulso já registrados via decoradores @dash.callback para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500.
2025-05-22 11:05:05 - callbacks.applied_voltage - INFO - Registrando callbacks de tensão aplicada...
2025-05-22 11:05:05 - callbacks.applied_voltage - INFO - Callbacks de tensão aplicada registrados com sucesso.
2025-05-22 11:05:05 - callbacks.history - INFO - Registrando callbacks de Histórico (VERSÃO REFEITA - Foco no MCP)
2025-05-22 11:05:05 - callbacks.history - INFO - Callbacks de Histórico (VERSÃO REFEITA - Foco no MCP) registrados.
2025-05-22 11:05:05 - callbacks.insulation_level_callbacks - INFO - ==================== MÓDULO INSULATION_LEVEL_CALLBACKS (Options Only Logic) CARREGADO ====================
2025-05-22 11:05:05 - callbacks.insulation_level_callbacks - ERROR - ERRO: assets/tabela.json não encontrado!
2025-05-22 11:05:05 - callbacks.insulation_level_callbacks - INFO - Registrando callbacks de níveis de isolamento (APENAS OPÇÕES - V2)...
2025-05-22 11:05:05 - callbacks.insulation_level_callbacks - INFO - Callbacks de níveis de isolamento (APENAS OPÇÕES - V2) registrados.
2025-05-22 11:05:05 - app - ERROR - Função de registro 'register_temperature_rise_callbacks' não encontrada em temperature_rise: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\app.py", line 341, in <module>
    registration_function = getattr(module, reg_func_name)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
2025-05-22 11:05:05 - utils.standards_db - INFO - Tabelas 'standards_metadata' e 'standards_content_fts' criadas/verificadas.
2025-05-22 11:05:05 - app - INFO - Callbacks registrados. Total: 54
2025-05-22 11:05:05 - callbacks.navigation_dcc_links - INFO - 
[navigation_dcc_links.py] REGISTRANDO CALLBACK DE NAVEGAÇÃO (render_content)

2025-05-22 11:05:05 - callbacks.transformer_inputs - INFO - Registrando callbacks do módulo transformer_inputs para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 11:05:05 - callbacks.short_circuit - INFO - Registrando callbacks do módulo short_circuit para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 11:05:05 - callbacks.impulse - INFO - Callbacks do módulo de impulso já registrados via decoradores @dash.callback para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500.
2025-05-22 11:05:05 - callbacks.applied_voltage - INFO - Registrando callbacks de tensão aplicada...
2025-05-22 11:05:05 - callbacks.applied_voltage - INFO - Callbacks de tensão aplicada registrados com sucesso.
2025-05-22 11:05:05 - callbacks.history - INFO - Registrando callbacks de Histórico (VERSÃO REFEITA - Foco no MCP)
2025-05-22 11:05:05 - callbacks.history - INFO - Callbacks de Histórico (VERSÃO REFEITA - Foco no MCP) registrados.
2025-05-22 11:05:05 - callbacks.insulation_level_callbacks - INFO - Registrando callbacks de níveis de isolamento (APENAS OPÇÕES - V2)...
2025-05-22 11:05:05 - callbacks.insulation_level_callbacks - INFO - Callbacks de níveis de isolamento (APENAS OPÇÕES - V2) registrados.
2025-05-22 11:05:05 - __main__ - ERROR - Função de registro 'register_temperature_rise_callbacks' não encontrada em temperature_rise: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\app.py", line 341, in <module>
    registration_function = getattr(module, reg_func_name)
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'callbacks.temperature_rise' has no attribute 'register_temperature_rise_callbacks'
2025-05-22 11:05:05 - utils.standards_db - INFO - Tabelas 'standards_metadata' e 'standards_content_fts' criadas/verificadas.
2025-05-22 11:05:05 - __main__ - INFO - Callbacks registrados. Total: 31
2025-05-22 11:05:05 - __main__ - INFO - Iniciando servidor Dash em http://127.0.0.1:8050/ (Debug: True)
2025-05-22 11:05:05 - dash.dash - INFO - Dash is running on http://127.0.0.1:8050/

2025-05-22 11:07:33 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1255, in dispatch
    cb = self.callback_map[output]
         ~~~~~~~~~~~~~~~~~^^^^^^^^
KeyError: 'content.children'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1306, in dispatch
    raise KeyError(msg) from missing_callback_function
KeyError: "Callback function not found for output 'content.children', perhaps you forgot to prepend the '@'?"
2025-05-22 11:07:33 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1255, in dispatch
    cb = self.callback_map[output]
         ~~~~~~~~~~~~~~~~~^^^^^^^^
KeyError: '..nav-container-dados.style...nav-container-perdas.style...nav-container-impulso.style...nav-container-analise-dieletrica.style...nav-container-tensao-aplicada.style...nav-container-tensao-induzida.style...nav-container-curto-circuito.style...nav-container-elevacao-temperatura.style...nav-container-historico.style...nav-container-consulta-normas.style..'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1306, in dispatch
    raise KeyError(msg) from missing_callback_function
KeyError: "Callback function not found for output '..nav-container-dados.style...nav-container-perdas.style...nav-container-impulso.style...nav-container-analise-dieletrica.style...nav-container-tensao-aplicada.style...nav-container-tensao-induzida.style...nav-container-curto-circuito.style...nav-container-elevacao-temperatura.style...nav-container-historico.style...nav-container-consulta-normas.style..', perhaps you forgot to prepend the '@'?"
2025-05-22 11:07:33 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:07:33 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:07:33 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:07:33 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:07:33 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:07:33 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:07:33 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:07:33 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:07:33 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:07:33 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:07:33 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:07:33 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:07:33 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:07:33 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:07:33 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:07:33 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:07:33 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:07:46 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:07:46 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:07:46 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:07:46 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:07:46 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:07:46 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:07:46 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:07:46 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:07:46 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:07:46 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /dados

2025-05-22 11:07:46 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:07:46 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:07:46 - callbacks.navigation_dcc_links - INFO - URL normalizada: dados
2025-05-22 11:07:46 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:07:46 - callbacks.navigation_dcc_links - INFO - Carregando layout para: dados (1. Dados Básicos)
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: transformer-inputs-store
2025-05-22 11:07:46 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:07:46 - layouts.transformer_inputs - INFO - Criando layout Dados Básicos (v5 - Layout Geral e Pesos em 2 linhas)...
2025-05-22 11:07:46 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:07:46 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:07:46 - layouts.transformer_inputs - INFO - Classes de tensão carregadas para dropdown: 27 opções.
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 36.64ms
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:07:46 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:07:46 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:07:46 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:07:46 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 22.4ms
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /dados
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 11:07:46 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 11:07:46 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /dados
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /dados
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:07:46 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:07:46 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:07:46 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:07:46 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 11:07:46 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:07:46 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 11:07:46 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:07:48 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 11:07:48 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:07:48 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:07:48 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /perdas

2025-05-22 11:07:48 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:07:48 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:07:48 - callbacks.navigation_dcc_links - INFO - URL normalizada: perdas
2025-05-22 11:07:48 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:07:48 - callbacks.navigation_dcc_links - INFO - Carregando layout para: perdas (2. Perdas)
2025-05-22 11:07:48 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:07:48 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Store de origem transformer-inputs-store É a fonte-de-verdade para campos básicos
2025-05-22 11:07:48 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:07:48 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'losses-store'.
2025-05-22 11:07:48 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:07:48 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Dados básicos propagados para losses-store
2025-05-22 11:07:48 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:07:48 - callbacks.navigation_dcc_links - INFO - Propagação de dados para losses-store: {'losses-store': True}
2025-05-22 11:07:48 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:07:48 - layouts.losses - INFO - Creating Losses layout...
2025-05-22 11:07:48 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:07:48 - layouts.losses - INFO - [Losses Layout] Dados do transformador obtidos do losses-store.
2025-05-22 11:07:48 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:07:48 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:07:48 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:07:48 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: url. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /perdas
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: url. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /perdas
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:07:48 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/perdas
2025-05-22 11:07:48 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: url. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /perdas
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 11:07:48 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 11:07:48 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/perdas
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:07:48 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:07:48 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:07:48 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 11:07:48 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 11:07:48 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:07:48 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:07:48 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:07:48 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:07:48 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:07:48 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:07:48 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:07:48 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:07:48 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:07:48 - callbacks.losses - CRITICAL - [LOSSES POPULATE CARGA] Acionado. Aba: tab-carga, Trigger: N/A
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:07:48 - callbacks.losses - INFO - [LOSSES POPULATE CARGA] Valores encontrados em 'resultados_perdas_carga': [100, 100, 100, 75]
2025-05-22 11:07:48 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:07:48 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 54.83ms
2025-05-22 11:07:51 - callbacks.losses - ERROR - [LOSSES CARGA] Seção 'resultados_perdas_vazio' não encontrada no losses_data.
2025-05-22 11:07:51 - callbacks.losses - INFO - [LOSSES CARGA] Encontrados dados de perdas em vazio no current_losses_store_data. Tentando usar esses dados.
2025-05-22 11:07:51 - callbacks.losses - INFO - [LOSSES CARGA] Valor de perdas_vazio_kw encontrado: 17
2025-05-22 11:07:51 - callbacks.losses - INFO - [losses] Correntes obtidas do transformer_data: AT Nominal=167.35A, AT Tap Maior=160.38A, AT Tap Menor=199.09A
2025-05-22 11:07:51 - callbacks.losses - INFO - [losses] Correntes finais utilizadas: AT Nominal=167.35A, AT Tap Maior=160.38A, AT Tap Menor=199.09A
2025-05-22 11:07:51 - callbacks.losses - INFO - Suggesting config for Max V: 6.95 kV, Max Q Req: 11.32 MVAr, Type: Trifásico
2025-05-22 11:07:51 - callbacks.losses - INFO - Configuração do banco de capacitores: Tensão=7.0kV (Banco 13.8kV), Potência=11.4MVAr
2025-05-22 11:07:51 - callbacks.losses - INFO - [LOSSES CARGA] Dados atualizados em resultados_perdas_carga: dict_keys(['resultados', 'perdas_carga_nom', 'perdas_carga_min', 'perdas_carga_max', 'temperatura_referencia', 'suggested_cs_config', 'suggested_q_config', 'suggested_q_power_mvar', 'max_test_voltage_kv_overall', 'max_test_power_mvar_overall_required'])
2025-05-22 11:07:51 - callbacks.losses - INFO - [LOSSES CARGA] Valores de perdas: nom=100.0, min=100.0, max=100.0
2025-05-22 11:07:51 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'losses-store'.
2025-05-22 11:07:51 - callbacks.losses - CRITICAL - [LOSSES CALC CARGA] losses-store atualizado com: {'resultados': [{'Tap': 'Nominal', 'Tensão': 69.0, 'Corrente': 167.35, 'Vcc (%)': 8.0, 'Vcc (kV)': 5.52, 'Pnominal (kVA)': 20000.250482618958, 'Perdas totais (kW)': 100.0, 'Perdas Carga Sem Vazio (kW)': 83.0, 'Perdas a Frio (25°C) (kW)': 69.61290322580645, 'Tensão frio (kV)': 6.6159803167358735, 'Corrente frio (A)': 200.5768670300269, 'Pteste frio (MVA)': 2.298453252868166, 'Potencia Ativa EPS Frio (kW)': 100.0, 'Pteste frio (MVAr)': 2.296276846466961, 'Cap Bank Voltage Frio Com Fator (kV)': 13.8, 'Cap Bank Power Frio Com Fator (MVAr)': 10.000125241309481, 'Cap Bank Voltage Frio Sem Fator (kV)': 13.8, 'Cap Bank Power Frio Sem Fator (MVAr)': 10.000125241309481, 'Tensão quente (kV)': 6.027444923654824, 'Corrente quente (A)': 182.7342224589918, 'Pteste quente (MVA)': 1.9077161998805778, 'Potencia Ativa Quente (kW)': 83.0, 'Pteste quente (MVAr)': 1.9059097825675781, 'Cap Bank Voltage Quente Com Fator (kV)': 13.8, 'Cap Bank Power Quente Com Fator (MVAr)': 10.000125241309483, 'Cap Bank Voltage Quente Sem Fator (kV)': 13.8, 'Cap Bank Power Quente Sem Fator (MVAr)': 10.000125241309483, 'Tensão 25°C (kV)': 5.52, 'Corrente 25°C (A)': 167.35, 'Pteste 25°C (MVA)': 1.6000200386095167, 'Potencia Ativa 25°C (kW)': 69.61290322580645, 'Pteste 25°C (MVAr)': 1.598504978927646, 'Cap Bank Voltage 25°C Com Fator (kV)': 13.8, 'Cap Bank Power 25°C Com Fator (MVAr)': 10.000125241309481, 'Cap Bank Voltage 25°C Sem Fator (kV)': 13.8, 'Cap Bank Power 25°C Sem Fator (MVAr)': 10.000125241309481, 'CS Config 25°C': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config 25°C S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config 25°C': 'Q3, Q4, Q5', 'Q Config 25°C S/F': 'Q3, Q4, Q5', 'Q Power Provided 25°C (MVAr)': 10.8, 'Q Power Provided 25°C S/F (MVAr)': 10.8, 'CS Config Frio': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Frio S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Frio': 'Q3, Q4, Q5', 'Q Config Frio S/F': 'Q3, Q4, Q5', 'Q Power Provided Frio (MVAr)': 10.8, 'Q Power Provided Frio S/F (MVAr)': 10.8, 'CS Config Quente': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Quente S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Quente': 'Q3, Q4, Q5', 'Q Config Quente S/F': 'Q3, Q4, Q5', 'Q Power Provided Quente (MVAr)': 10.8, 'Q Power Provided Quente S/F (MVAr)': 10.8}, {'Tap': 'Menor', 'Tensão': 58.0, 'Corrente': 199.09, 'Vcc (%)': 10.0, 'Vcc (kV)': 5.8, 'Pnominal (kVA)': 20000.37172617549, 'Perdas totais (kW)': 100.0, 'Perdas Carga Sem Vazio (kW)': 83.0, 'Perdas a Frio (25°C) (kW)': 69.61290322580645, 'Tensão frio (kV)': 6.951573521207983, 'Corrente frio (A)': 238.6187538512582, 'Pteste frio (MVA)': 2.8730839829075077, 'Potencia Ativa EPS Frio (kW)': 100.0, 'Pteste frio (MVAr)': 2.871343165286878, 'Cap Bank Voltage Frio Com Fator (kV)': 13.8, 'Cap Bank Power Frio Com Fator (MVAr)': 11.32244587257093, 'Cap Bank Voltage Frio Sem Fator (kV)': 13.8, 'Cap Bank Power Frio Sem Fator (MVAr)': 11.32244587257093, 'Tensão quente (kV)': 6.333184883550358, 'Corrente quente (A)': 217.39203077000704, 'Pteste quente (MVA)': 2.3846597058132315, 'Potencia Ativa Quente (kW)': 83.0, 'Pteste quente (MVAr)': 2.383214827188109, 'Cap Bank Voltage Quente Com Fator (kV)': 13.8, 'Cap Bank Power Quente Com Fator (MVAr)': 11.322445872570931, 'Cap Bank Voltage Quente Sem Fator (kV)': 13.8, 'Cap Bank Power Quente Sem Fator (MVAr)': 11.322445872570931, 'Tensão 25°C (kV)': 5.8, 'Corrente 25°C (A)': 199.09, 'Pteste 25°C (MVA)': 2.000037172617549, 'Potencia Ativa 25°C (kW)': 69.61290322580645, 'Pteste 25°C (MVAr)': 1.9988253389319623, 'Cap Bank Voltage 25°C Com Fator (kV)': 13.8, 'Cap Bank Power 25°C Com Fator (MVAr)': 11.32244587257093, 'Cap Bank Voltage 25°C Sem Fator (kV)': 13.8, 'Cap Bank Power 25°C Sem Fator (MVAr)': 11.32244587257093, 'CS Config 25°C': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config 25°C S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config 25°C': 'Q2, Q3, Q4, Q5', 'Q Config 25°C S/F': 'Q2, Q3, Q4, Q5', 'Q Power Provided 25°C (MVAr)': 11.4, 'Q Power Provided 25°C S/F (MVAr)': 11.4, 'CS Config Frio': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Frio S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Frio': 'Q2, Q3, Q4, Q5', 'Q Config Frio S/F': 'Q2, Q3, Q4, Q5', 'Q Power Provided Frio (MVAr)': 11.4, 'Q Power Provided Frio S/F (MVAr)': 11.4, 'CS Config Quente': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Quente S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Quente': 'Q2, Q3, Q4, Q5', 'Q Config Quente S/F': 'Q2, Q3, Q4, Q5', 'Q Power Provided Quente (MVAr)': 11.4, 'Q Power Provided Quente S/F (MVAr)': 11.4}, {'Tap': 'Maior', 'Tensão': 72.0, 'Corrente': 160.38, 'Vcc (%)': 8.0, 'Vcc (kV)': 5.76, 'Pnominal (kVA)': 20000.61421328855, 'Perdas totais (kW)': 100.0, 'Perdas Carga Sem Vazio (kW)': 83.0, 'Perdas a Frio (25°C) (kW)': 69.61290322580645, 'Tensão frio (kV)': 6.903631634854825, 'Corrente frio (A)': 192.22299333298903, 'Pteste frio (MVA)': 2.298495053241687, 'Potencia Ativa EPS Frio (kW)': 100.0, 'Pteste frio (MVAr)': 2.2963186864580676, 'Cap Bank Voltage Frio Com Fator (kV)': 13.8, 'Cap Bank Power Frio Com Fator (MVAr)': 9.184309825372958, 'Cap Bank Voltage Frio Sem Fator (kV)': 13.8, 'Cap Bank Power Frio Sem Fator (MVAr)': 9.184309825372958, 'Tensão quente (kV)': 6.289507746422425, 'Corrente quente (A)': 175.1234813144494, 'Pteste quente (MVA)': 1.9077508941906, 'Potencia Ativa Quente (kW)': 83.0, 'Pteste quente (MVAr)': 1.9059445097601961, 'Cap Bank Voltage Quente Com Fator (kV)': 13.8, 'Cap Bank Power Quente Com Fator (MVAr)': 9.184309825372955, 'Cap Bank Voltage Quente Sem Fator (kV)': 13.8, 'Cap Bank Power Quente Sem Fator (MVAr)': 9.184309825372955, 'Tensão 25°C (kV)': 5.76, 'Corrente 25°C (A)': 160.38, 'Pteste 25°C (MVA)': 1.6000491370630838, 'Potencia Ativa 25°C (kW)': 69.61290322580645, 'Pteste 25°C (MVAr)': 1.5985341049601642, 'Cap Bank Voltage 25°C Com Fator (kV)': 13.8, 'Cap Bank Power 25°C Com Fator (MVAr)': 9.184309825372953, 'Cap Bank Voltage 25°C Sem Fator (kV)': 13.8, 'Cap Bank Power 25°C Sem Fator (MVAr)': 9.184309825372953, 'CS Config 25°C': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config 25°C S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config 25°C': 'Q1, Q2, Q4, Q5', 'Q Config 25°C S/F': 'Q1, Q2, Q4, Q5', 'Q Power Provided 25°C (MVAr)': 9.3, 'Q Power Provided 25°C S/F (MVAr)': 9.3, 'CS Config Frio': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Frio S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Frio': 'Q1, Q2, Q4, Q5', 'Q Config Frio S/F': 'Q1, Q2, Q4, Q5', 'Q Power Provided Frio (MVAr)': 9.3, 'Q Power Provided Frio S/F (MVAr)': 9.3, 'CS Config Quente': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'CS Config Quente S/F': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'Q Config Quente': 'Q1, Q2, Q4, Q5', 'Q Config Quente S/F': 'Q1, Q2, Q4, Q5', 'Q Power Provided Quente (MVAr)': 9.3, 'Q Power Provided Quente S/F (MVAr)': 9.3}], 'perdas_carga_nom': 100.0, 'perdas_carga_min': 100.0, 'perdas_carga_max': 100.0, 'temperatura_referencia': 75, 'suggested_cs_config': 'CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC', 'suggested_q_config': 'Q2, Q3, Q4, Q5', 'suggested_q_power_mvar': 11.4, 'max_test_voltage_kv_overall': 6.951573521207983, 'max_test_power_mvar_overall_required': 11.322445872570931}
2025-05-22 11:07:51 - callbacks.losses - INFO - [LOSSES CALC CARGA] Verificação: dados armazenados corretamente no MCP. Chaves em resultados_perdas_carga: dict_keys(['resultados', 'perdas_carga_nom', 'perdas_carga_min', 'perdas_carga_max', 'temperatura_referencia', 'suggested_cs_config', 'suggested_q_config', 'suggested_q_power_mvar', 'max_test_voltage_kv_overall', 'max_test_power_mvar_overall_required'])
2025-05-22 11:07:51 - callbacks.losses - INFO - [LOSSES CALC CARGA] Verificação: dados de perdas em vazio ainda presentes no MCP. perdas_vazio_kw = 17
2025-05-22 11:07:51 - callbacks.losses - INFO - Cálculo de perdas em carga concluído para Tref=75°C. Max V: 7.0 kV, Max Q Req: 11.3 MVAr.
2025-05-22 11:07:51 - callbacks.losses - INFO - Sugestão Geral - CS: CS1A1, CS1B1, CS1C1, CS2A1, CS2B1, CS2C1, CS7A, CS7B, CS7C, CSA, CSB, CSC, Q: Q2, Q3, Q4, Q5 (11.4 MVAr)
2025-05-22 11:07:51 - callbacks.losses - CRITICAL - [LOSSES POPULATE CARGA] Acionado. Aba: tab-carga, Trigger: losses-store
2025-05-22 11:07:51 - callbacks.losses - INFO - [LOSSES POPULATE CARGA] Valores encontrados em 'resultados_perdas_carga': [100, 100, 100, 75]
2025-05-22 11:07:51 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: losses-store
2025-05-22 11:07:51 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:07:51 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:07:51 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:07:51 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:07:51 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:07:51 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:07:51 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:07:51 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:07:51 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:07:51 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:07:51 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:07:51 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:07:51 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:07:51 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:07:51 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:07:51 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:07:51 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:07:51 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:07:51 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:07:51 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:07:51 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:07:51 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 24.66ms
2025-05-22 11:12:05 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:12:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:12:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:12:05 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /dados

2025-05-22 11:12:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:12:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:12:05 - callbacks.navigation_dcc_links - INFO - URL normalizada: dados
2025-05-22 11:12:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:12:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:12:05 - callbacks.navigation_dcc_links - INFO - Carregando layout para: dados (1. Dados Básicos)
2025-05-22 11:12:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:12:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:12:05 - layouts.transformer_inputs - INFO - Criando layout Dados Básicos (v5 - Layout Geral e Pesos em 2 linhas)...
2025-05-22 11:12:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:12:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:12:05 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:12:05 - layouts.transformer_inputs - INFO - Classes de tensão carregadas para dropdown: 27 opções.
2025-05-22 11:12:05 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:12:05 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:12:05 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:12:05 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:12:05 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:12:05 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:12:05 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:12:05 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:12:05 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:12:05 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:12:05 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:12:05 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:12:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:12:05 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 22.6ms
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /dados
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 11:12:05 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 11:12:05 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /dados
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /dados
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 11:12:05 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:12:05 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:12:05 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:12:05 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 11:12:05 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:12:05 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 11:12:05 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:12:34 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 11:12:34 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:12:34 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /perdas

2025-05-22 11:12:34 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:12:34 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:12:34 - callbacks.navigation_dcc_links - INFO - URL normalizada: perdas
2025-05-22 11:12:34 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:12:34 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:12:34 - callbacks.navigation_dcc_links - INFO - Carregando layout para: perdas (2. Perdas)
2025-05-22 11:12:34 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:12:34 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:12:34 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Store de origem transformer-inputs-store É a fonte-de-verdade para campos básicos
2025-05-22 11:12:34 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:12:34 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'losses-store'.
2025-05-22 11:12:34 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:12:34 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Dados básicos propagados para losses-store
2025-05-22 11:12:34 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:12:34 - callbacks.navigation_dcc_links - INFO - Propagação de dados para losses-store: {'losses-store': True}
2025-05-22 11:12:34 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:12:34 - layouts.losses - INFO - Creating Losses layout...
2025-05-22 11:12:34 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:12:34 - layouts.losses - INFO - [Losses Layout] Dados do transformador obtidos do losses-store.
2025-05-22 11:12:34 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:12:34 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:12:34 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: url. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /perdas
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: url. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /perdas
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:12:34 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: url. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /perdas
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 11:12:34 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/perdas
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 11:12:34 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/perdas
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:12:34 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 11:12:34 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 11:12:34 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:12:34 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:12:34 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 11:12:34 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:12:34 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:12:34 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:12:34 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:12:34 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:12:34 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:12:34 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:12:34 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:12:34 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:12:34 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:12:34 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 28.57ms
2025-05-22 11:12:34 - callbacks.losses - CRITICAL - [LOSSES POPULATE CARGA] Acionado. Aba: tab-carga, Trigger: N/A
2025-05-22 11:12:34 - callbacks.losses - INFO - [LOSSES POPULATE CARGA] Valores encontrados em 'resultados_perdas_carga': [100, 100, 100, 75]
2025-05-22 11:12:39 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:12:39 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:12:39 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:12:39 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:12:39 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /impulso

2025-05-22 11:12:39 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:12:39 - callbacks.navigation_dcc_links - INFO - URL normalizada: impulso
2025-05-22 11:12:39 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:12:39 - callbacks.navigation_dcc_links - INFO - Carregando layout para: impulso (3. Impulso)
2025-05-22 11:12:39 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:12:39 - layouts.impulse - INFO - Criando layout de impulso...
2025-05-22 11:12:39 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:12:39 - layouts.impulse - INFO - [Impulse] Dados do transformador obtidos do MCP: 58
2025-05-22 11:12:39 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:12:39 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:12:39 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:12:39 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:12:39 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:12:39 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:12:39 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:12:39 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:12:39 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:12:40 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 11:12:40 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:12:40 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:12:40 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:12:40 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:12:40 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:12:40 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:12:40 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:12:40 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:12:40 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:12:40 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:12:40 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:12:40 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:12:40 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:12:40 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:12:40 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:12:40 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:12:40 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:12:40 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:12:40 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:12:40 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:12:40 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:12:40 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 18.79ms
2025-05-22 11:12:42 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:12:42 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:12:42 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:12:42 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /dados

2025-05-22 11:12:42 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:12:42 - callbacks.navigation_dcc_links - INFO - URL normalizada: dados
2025-05-22 11:12:42 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:12:42 - callbacks.navigation_dcc_links - INFO - Carregando layout para: dados (1. Dados Básicos)
2025-05-22 11:12:42 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:12:42 - layouts.transformer_inputs - INFO - Criando layout Dados Básicos (v5 - Layout Geral e Pesos em 2 linhas)...
2025-05-22 11:12:42 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:12:42 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:12:42 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:12:42 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:12:42 - layouts.transformer_inputs - INFO - Classes de tensão carregadas para dropdown: 27 opções.
2025-05-22 11:12:42 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:12:42 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:12:42 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:12:42 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:12:42 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:12:42 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:12:42 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:12:42 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:12:42 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:12:42 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:12:42 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:12:42 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:12:42 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:12:42 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:12:42 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:12:42 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 24.75ms
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /dados
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 11:12:42 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /dados
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:12:42 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /dados
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 11:12:42 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 11:12:42 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:12:42 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:12:42 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:12:42 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 11:12:42 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 11:12:42 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:13:47 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 11:13:47 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:13:47 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /perdas

2025-05-22 11:13:47 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:13:47 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:13:47 - callbacks.navigation_dcc_links - INFO - URL normalizada: perdas
2025-05-22 11:13:47 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:13:47 - callbacks.navigation_dcc_links - INFO - Carregando layout para: perdas (2. Perdas)
2025-05-22 11:13:47 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:13:47 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Store de origem transformer-inputs-store É a fonte-de-verdade para campos básicos
2025-05-22 11:13:47 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:13:47 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'losses-store'.
2025-05-22 11:13:47 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:13:47 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Dados básicos propagados para losses-store
2025-05-22 11:13:47 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:13:47 - callbacks.navigation_dcc_links - INFO - Propagação de dados para losses-store: {'losses-store': True}
2025-05-22 11:13:47 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:13:47 - layouts.losses - INFO - Creating Losses layout...
2025-05-22 11:13:47 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:13:47 - layouts.losses - INFO - [Losses Layout] Dados do transformador obtidos do losses-store.
2025-05-22 11:13:47 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:13:47 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:13:47 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:13:47 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:13:47 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: url. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /perdas
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: url. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /perdas
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:13:47 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: url. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /perdas
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/perdas
2025-05-22 11:13:47 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:13:47 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:13:47 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/perdas
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:13:47 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 11:13:47 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:13:47 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 11:13:47 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 11:13:47 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:13:47 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:13:47 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:13:47 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:13:47 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:13:47 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:13:47 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:13:47 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:13:47 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:13:47 - callbacks.losses - CRITICAL - [LOSSES POPULATE CARGA] Acionado. Aba: tab-carga, Trigger: N/A
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:13:47 - callbacks.losses - INFO - [LOSSES POPULATE CARGA] Valores encontrados em 'resultados_perdas_carga': [100, 100, 100, 75]
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:13:47 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:13:47 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 35.11ms
2025-05-22 11:13:49 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:13:49 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:13:49 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:13:49 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:13:49 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /impulso

2025-05-22 11:13:49 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:13:49 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:13:49 - callbacks.navigation_dcc_links - INFO - URL normalizada: impulso
2025-05-22 11:13:49 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:13:49 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:13:49 - callbacks.navigation_dcc_links - INFO - Carregando layout para: impulso (3. Impulso)
2025-05-22 11:13:49 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:13:49 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:13:49 - layouts.impulse - INFO - Criando layout de impulso...
2025-05-22 11:13:49 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:13:49 - layouts.impulse - INFO - [Impulse] Dados do transformador obtidos do MCP: 58
2025-05-22 11:13:49 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:13:49 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:13:49 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:13:49 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:13:49 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:13:49 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:13:49 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 11:13:49 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:13:49 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:13:49 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:13:49 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:13:49 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:13:49 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:13:49 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:13:49 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:13:49 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:13:49 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:13:49 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:13:49 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:13:49 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:13:49 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:13:49 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:13:49 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:13:50 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:13:50 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:13:50 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:13:50 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:13:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:13:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:13:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:13:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:13:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:13:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:13:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:13:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:13:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:13:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:13:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:13:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:13:50 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:13:50 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:13:50 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 27.96ms
2025-05-22 11:13:58 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:13:58 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:13:58 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:13:58 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:13:58 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /dados

2025-05-22 11:13:58 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:13:58 - callbacks.navigation_dcc_links - INFO - URL normalizada: dados
2025-05-22 11:13:58 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:13:58 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:13:58 - callbacks.navigation_dcc_links - INFO - Carregando layout para: dados (1. Dados Básicos)
2025-05-22 11:13:58 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:13:58 - layouts.transformer_inputs - INFO - Criando layout Dados Básicos (v5 - Layout Geral e Pesos em 2 linhas)...
2025-05-22 11:13:58 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:13:58 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:13:58 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:13:58 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:13:58 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:13:58 - layouts.transformer_inputs - INFO - Classes de tensão carregadas para dropdown: 27 opções.
2025-05-22 11:13:58 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:13:58 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:13:58 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:13:58 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:13:58 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:13:58 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:13:58 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:13:58 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:13:58 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:13:58 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:13:58 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:13:58 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:13:58 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 22.69ms
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /dados
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /dados
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 11:13:58 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /dados
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:13:58 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:13:58 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:13:58 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:13:58 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:13:58 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:13:58 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:13:58 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:13:58 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:14:03 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 11:14:03 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:14:03 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /perdas

2025-05-22 11:14:03 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:14:03 - callbacks.navigation_dcc_links - INFO - URL normalizada: perdas
2025-05-22 11:14:03 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:14:03 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:14:03 - callbacks.navigation_dcc_links - INFO - Carregando layout para: perdas (2. Perdas)
2025-05-22 11:14:03 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:14:03 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:14:03 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Store de origem transformer-inputs-store É a fonte-de-verdade para campos básicos
2025-05-22 11:14:03 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:14:03 - app_core.transformer_mcp - DEBUG - [MCP SET] Dados definidos para store 'losses-store'.
2025-05-22 11:14:03 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:14:03 - utils.mcp_persistence - INFO - [ensure_mcp_data_propagation] Dados básicos propagados para losses-store
2025-05-22 11:14:03 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:14:03 - callbacks.navigation_dcc_links - INFO - Propagação de dados para losses-store: {'losses-store': True}
2025-05-22 11:14:03 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:14:03 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:14:03 - layouts.losses - INFO - Creating Losses layout...
2025-05-22 11:14:03 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:14:03 - layouts.losses - INFO - [Losses Layout] Dados do transformador obtidos do losses-store.
2025-05-22 11:14:03 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:14:03 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:14:03 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: url. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /perdas
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: url. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /perdas
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:14:03 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:14:03 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/perdas
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: url. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /perdas
2025-05-22 11:14:03 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 11:14:03 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/perdas
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:14:03 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:14:03 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:14:03 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:14:03 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 11:14:03 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:14:03 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:14:03 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:14:03 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:14:03 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:14:03 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:14:03 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:14:03 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:14:03 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:14:03 - callbacks.losses - CRITICAL - [LOSSES POPULATE CARGA] Acionado. Aba: tab-carga, Trigger: N/A
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:14:03 - callbacks.losses - INFO - [LOSSES POPULATE CARGA] Valores encontrados em 'resultados_perdas_carga': [100, 100, 100, 75]
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:14:03 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:14:03 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 24.8ms
2025-05-22 11:14:05 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:14:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:14:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:14:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:14:05 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /dados

2025-05-22 11:14:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:14:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:14:05 - callbacks.navigation_dcc_links - INFO - URL normalizada: dados
2025-05-22 11:14:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:14:05 - callbacks.navigation_dcc_links - INFO - Carregando layout para: dados (1. Dados Básicos)
2025-05-22 11:14:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:14:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:14:05 - layouts.transformer_inputs - INFO - Criando layout Dados Básicos (v5 - Layout Geral e Pesos em 2 linhas)...
2025-05-22 11:14:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:14:05 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:14:05 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:14:05 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:14:05 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:14:05 - layouts.transformer_inputs - INFO - Classes de tensão carregadas para dropdown: 27 opções.
2025-05-22 11:14:05 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:14:05 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:14:05 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:14:05 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:14:05 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:14:05 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:14:05 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:14:05 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:14:05 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:14:05 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:14:05 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:14:05 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 20.76ms
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /dados
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:14:05 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /dados
2025-05-22 11:14:05 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /dados
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: initial_load_or_direct_call. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/dados
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:14:05 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 11:14:05 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:14:05 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:14:05 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:14:05 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:14:05 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:14:05 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:14:07 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1310, in dispatch
    ctx.run(
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\_callback.py", line 442, in add_context
    output_value = func(*func_args, **func_kwargs)  # %% callback invoked %%
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\transformer_inputs.py", line 277, in load_transformer_inputs_from_mcp
    from utils.routes import ROUTE_TRANSFORMER_INPUTS, normalize_pathname
ImportError: cannot import name 'ROUTE_TRANSFORMER_INPUTS' from 'utils.routes' (c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\utils\routes.py)
2025-05-22 11:14:07 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:14:07 - callbacks.navigation_dcc_links - INFO - 
=== CALLBACK render_content ACIONADO === URL: /elevacao-temperatura

2025-05-22 11:14:07 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:14:07 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:14:07 - callbacks.navigation_dcc_links - INFO - URL normalizada: elevacao-temperatura
2025-05-22 11:14:07 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:14:07 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:14:07 - callbacks.navigation_dcc_links - INFO - Carregando layout para: elevacao-temperatura (8. Elevação de Temperatura)
2025-05-22 11:14:07 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:14:07 - layouts.temperature_rise - INFO - [Temperature Rise] Dados do transformador obtidos do MCP: 58
2025-05-22 11:14:07 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:14:07 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:14:07 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:14:07 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:14:07 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:14:07 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:14:07 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:14:07 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:14:07 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Acionado por: url. Norma: IEC, Um_kv: 72.5, Tensão: 69, Path: /elevacao-temperatura
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Acionado por: url. Norma: IEC, Um_kv: 15, Tensão: 13.8, Path: /elevacao-temperatura
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT] Valores salvos: NBI=325, SIL=NA_SIL, TA=140, TI=145
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:14:07 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/elevacao-temperatura
2025-05-22 11:14:07 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=72.5kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Acionado por: url. Norma: IEC, Um_kv: 1.2, Tensão: 6, Path: /elevacao-temperatura
2025-05-22 11:14:07 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções FILTRADAS por Um=72.5 e Norma=IEC.
2025-05-22 11:14:07 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 69
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores do MCP: NBI=None, SIL=None, TA=None, TI=None
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: 15, Conexão: estrela, Tensão: 13.8
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Verificando se valor salvo de NBI (325) já está nas opções: True
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções FILTRADAS por Um=15.0 e Norma=IEC.
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Acionado por: url. Norma: IEC, Um_Neutro: None, Conexão: triangulo, Tensão: 6
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO] Valores salvos: NBI=125, SIL=NA_SIL, TA=50, TI=/elevacao-temperatura
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - AT] Opções disponíveis para NBI: ['325']
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - AT-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores do MCP: NBI=None, SIL=None
2025-05-22 11:14:07 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - BT-NEUTRO] Valores salvos: NBI=125, SIL=NA_SIL
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT] Opções disponíveis para NBI: ['125']
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO - [OPTIONS CB - TERCIARIO-NEUTRO] Valores salvos: NBI=, SIL=
2025-05-22 11:14:07 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=1.2kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:14:07 - app_core.isolation_repo - ERROR - [ISOLATION] Erro ao carregar tabela.json: [Errno 2] No such file or directory: 'assets/tabela.json'
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - AT] TI opts: 1
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO-NEUTRO] Conexão 'triangulo' não tem neutro acessível. Opções N/A.
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções FILTRADAS por Um=1.2 e Norma=IEC.
2025-05-22 11:14:07 - app_core.isolation_repo - WARNING - [ISOLATION] Nenhum registro encontrado para Um=15.0kV e norma=IEC/NBR. Usando valores padrão.
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Verificando se valor salvo de NBI (125) já está nas opções: True
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - BT-NEUTRO] Opções FILTRADAS por Um_Neutro=15.0 e Norma=IEC.
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - INFO -   [OPTIONS CB - TERCIARIO] Opções disponíveis para NBI: ['125']
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - BT-NEUTRO] NBI Neutro opts: 1, SIL Neutro opts: 1
2025-05-22 11:14:07 - callbacks.insulation_level_callbacks - DEBUG -   [OPTIONS CB - TERCIARIO] NBI opts: 1, SIL opts: 1, TA opts: 1
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [global_updates] Iniciando atualização global de painéis. Trigger: Initial Load / No Trigger
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [global_updates] Obtendo dados diretamente do MCP
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:14:07 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:14:07 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:14:07 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:14:07 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [global_updates] Dados do MCP: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [global_updates] MCP contém dados essenciais: potencia=20, tensao_at=69, tensao_bt=13.8
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [global_updates] Ignorando atualização do transformer-inputs-store a partir do store para evitar perda de dados
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [global_updates] Chaves disponíveis no MCP: ['tipo_transformador', 'potencia_mva', 'tensao_at', 'tensao_bt', 'tensao_terciario', 'frequencia', 'impedancia', 'conexao_at', 'conexao_bt', 'conexao_terciario', 'liquido_isolante', 'tipo_isolamento', 'corrente_nominal_at', 'corrente_nominal_bt', 'corrente_nominal_terciario', 'corrente_nominal_at_tap_maior', 'corrente_nominal_at_tap_menor', 'impedancia_tap_maior', 'impedancia_tap_menor', 'tensao_at_tap_maior', 'tensao_at_tap_menor', 'nbi_at', 'nbi_bt', 'nbi_terciario', 'nbi_neutro_at', 'nbi_neutro_bt', 'nbi_neutro_terciario', 'sil_at', 'sil_bt', 'sil_terciario', 'sil_neutro_at', 'sil_neutro_bt', 'sil_neutro_terciario', 'teste_tensao_aplicada_at', 'teste_tensao_aplicada_bt', 'teste_tensao_aplicada_terciario', 'teste_tensao_induzida', 'grupo_ligacao', 'classe_tensao_at', 'classe_tensao_bt', 'classe_tensao_terciario', 'elevacao_oleo_topo', 'elevacao_enrol', 'elevacao_enrol_at', 'elevacao_enrol_bt', 'elevacao_enrol_terciario', 'teste_tensao_induzida_at', 'norma_iso', 'peso_total', 'peso_parte_ativa', 'peso_oleo', 'peso_tanque_acessorios', 'tensao_bucha_neutro_at', 'tensao_bucha_neutro_bt', 'tensao_bucha_neutro_terciario', 'iac_at', 'iac_bt', 'iac_terciario']
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [global_updates] Potência: 20
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [global_updates] Tensão AT: 69
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [global_updates] Tensão BT: 13.8
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [global_updates] Corrente AT: 167.35
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [global_updates] Corrente BT: 836.74
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [global_updates] Dados disponíveis no MCP: ['potencia_mva', 'tensao_at', 'tensao_bt', 'corrente_nominal_at', 'corrente_nominal_bt']
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - [MCP GET] Forçando recarga dos dados do disco para store 'transformer-inputs-store'
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Carregando dados do MCP a partir do disco
2025-05-22 11:14:07 - utils.mcp_disk_persistence - INFO - Diretórios para persistência do MCP criados: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state, c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\backups
2025-05-22 11:14:07 - utils.mcp_disk_persistence - INFO - Estado do MCP carregado do disco: c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\data\mcp_state\mcp_state.json
2025-05-22 11:14:07 - utils.mcp_disk_persistence - INFO - Timestamp dos dados: 2025-05-22T10:57:06.810738
2025-05-22 11:14:07 - utils.mcp_disk_persistence - INFO - Stores carregados: ['transformer-inputs-store', 'losses-store', 'impulse-store', 'dieletric-analysis-store', 'applied-voltage-store', 'induced-voltage-store', 'short-circuit-store', 'temperature-rise-store', 'comprehensive-analysis-store', 'front-resistor-data', 'tail-resistor-data', 'calculated-inductance', 'simulation-status']
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: transformer-inputs-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: losses-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: impulse-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: dieletric-analysis-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: applied-voltage-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: induced-voltage-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: short-circuit-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: temperature-rise-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: comprehensive-analysis-store
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: front-resistor-data
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: tail-resistor-data
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: calculated-inductance
2025-05-22 11:14:07 - app_core.transformer_mcp - INFO - Dados carregados do disco para store: simulation-status
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [global_updates] Dados frescos obtidos para o painel
2025-05-22 11:14:07 - callbacks.global_updates - DEBUG - [global_updates] Painel de informações global criado em 19.22ms
2025-05-22 11:14:23 - utils.logger - INFO - Logging configurado. Nível: INFO. Arquivo: app_2025-05-22.log
2025-05-22 11:14:23 - callbacks.short_circuit - INFO - Registrando callbacks do módulo short_circuit para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 11:14:23 - callbacks.impulse - INFO - Callbacks do módulo de impulso já registrados via decoradores @dash.callback para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500.
2025-05-22 11:14:23 - callbacks.applied_voltage - INFO - Registrando callbacks de tensão aplicada...
2025-05-22 11:14:23 - callbacks.applied_voltage - INFO - Callbacks de tensão aplicada registrados com sucesso.
2025-05-22 11:14:23 - callbacks.history - INFO - Registrando callbacks de Histórico (VERSÃO REFEITA - Foco no MCP)
2025-05-22 11:14:23 - callbacks.history - INFO - Callbacks de Histórico (VERSÃO REFEITA - Foco no MCP) registrados.
2025-05-22 11:14:23 - callbacks.insulation_level_callbacks - INFO - ==================== MÓDULO INSULATION_LEVEL_CALLBACKS (Options Only Logic) CARREGADO ====================
2025-05-22 11:14:23 - callbacks.insulation_level_callbacks - ERROR - ERRO: assets/tabela.json não encontrado!
2025-05-22 11:14:23 - callbacks.insulation_level_callbacks - INFO - Registrando callbacks de níveis de isolamento (APENAS OPÇÕES - V2)...
2025-05-22 11:14:23 - callbacks.insulation_level_callbacks - INFO - Callbacks de níveis de isolamento (APENAS OPÇÕES - V2) registrados.
2025-05-22 11:14:23 - app - ERROR - Erro ao registrar callbacks de temperature_rise explicitamente: expected an indented block after function definition on line 86 (temperature_rise.py, line 90)
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\app.py", line 340, in <module>
    module = __import__(module_path, fromlist=[reg_func_name])
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\temperature_rise.py", line 90
    """
    ^^^
IndentationError: expected an indented block after function definition on line 86
2025-05-22 11:14:23 - utils.standards_db - INFO - Tabelas 'standards_metadata' e 'standards_content_fts' criadas/verificadas.
2025-05-22 11:14:23 - app - INFO - Callbacks registrados. Total: 50
2025-05-22 11:14:23 - callbacks.navigation_dcc_links - INFO - 
[navigation_dcc_links.py] REGISTRANDO CALLBACK DE NAVEGAÇÃO (render_content)

2025-05-22 11:14:23 - callbacks.transformer_inputs - INFO - Registrando callbacks do módulo transformer_inputs para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 11:14:23 - callbacks.short_circuit - INFO - Registrando callbacks do módulo short_circuit para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 11:14:23 - callbacks.impulse - INFO - Callbacks do módulo de impulso já registrados via decoradores @dash.callback para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500.
2025-05-22 11:14:23 - callbacks.applied_voltage - INFO - Registrando callbacks de tensão aplicada...
2025-05-22 11:14:23 - callbacks.applied_voltage - INFO - Callbacks de tensão aplicada registrados com sucesso.
2025-05-22 11:14:23 - callbacks.history - INFO - Registrando callbacks de Histórico (VERSÃO REFEITA - Foco no MCP)
2025-05-22 11:14:23 - callbacks.history - INFO - Callbacks de Histórico (VERSÃO REFEITA - Foco no MCP) registrados.
2025-05-22 11:14:23 - callbacks.insulation_level_callbacks - INFO - Registrando callbacks de níveis de isolamento (APENAS OPÇÕES - V2)...
2025-05-22 11:14:23 - callbacks.insulation_level_callbacks - INFO - Callbacks de níveis de isolamento (APENAS OPÇÕES - V2) registrados.
2025-05-22 11:14:23 - __main__ - ERROR - Erro ao registrar callbacks de temperature_rise explicitamente: expected an indented block after function definition on line 86 (temperature_rise.py, line 90)
Traceback (most recent call last):
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\app.py", line 340, in <module>
    module = __import__(module_path, fromlist=[reg_func_name])
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\alessandro.souza\Downloads\transformer_simulator_V3\transformer_simulator_v2_complete\callbacks\temperature_rise.py", line 90
    """
    ^^^
IndentationError: expected an indented block after function definition on line 86
2025-05-22 11:14:23 - utils.standards_db - INFO - Tabelas 'standards_metadata' e 'standards_content_fts' criadas/verificadas.
2025-05-22 11:14:23 - __main__ - INFO - Callbacks registrados. Total: 31
2025-05-22 11:14:23 - __main__ - INFO - Iniciando servidor Dash em http://127.0.0.1:8050/ (Debug: True)
2025-05-22 11:14:23 - dash.dash - INFO - Dash is running on http://127.0.0.1:8050/

2025-05-22 11:24:20 - utils.logger - INFO - Logging configurado. Nível: INFO. Arquivo: app_2025-05-22.log
2025-05-22 11:24:20 - callbacks.short_circuit - INFO - Registrando callbacks do módulo short_circuit para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 11:24:20 - callbacks.impulse - INFO - Callbacks do módulo de impulso já registrados via decoradores @dash.callback para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500.
2025-05-22 11:24:20 - callbacks.applied_voltage - INFO - Registrando callbacks de tensão aplicada...
2025-05-22 11:24:20 - callbacks.applied_voltage - INFO - Callbacks de tensão aplicada registrados com sucesso.
2025-05-22 11:24:20 - callbacks.history - INFO - Registrando callbacks de Histórico (VERSÃO REFEITA - Foco no MCP)
2025-05-22 11:24:20 - callbacks.history - INFO - Callbacks de Histórico (VERSÃO REFEITA - Foco no MCP) registrados.
2025-05-22 11:24:20 - callbacks.insulation_level_callbacks - INFO - ==================== MÓDULO INSULATION_LEVEL_CALLBACKS (Options Only Logic) CARREGADO ====================
2025-05-22 11:24:20 - callbacks.insulation_level_callbacks - ERROR - ERRO: assets/tabela.json não encontrado!
2025-05-22 11:24:20 - callbacks.insulation_level_callbacks - INFO - Registrando callbacks de níveis de isolamento (APENAS OPÇÕES - V2)...
2025-05-22 11:24:20 - callbacks.insulation_level_callbacks - INFO - Callbacks de níveis de isolamento (APENAS OPÇÕES - V2) registrados.
2025-05-22 11:24:20 - callbacks.temperature_rise - INFO - Registrando callbacks do módulo temperature_rise para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 11:24:20 - callbacks.temperature_rise - INFO - Callbacks do módulo temperature_rise registrados com sucesso.
2025-05-22 11:24:20 - utils.standards_db - INFO - Tabelas 'standards_metadata' e 'standards_content_fts' criadas/verificadas.
2025-05-22 11:24:20 - app - INFO - Callbacks registrados. Total: 54
2025-05-22 11:24:20 - callbacks.navigation_dcc_links - INFO - 
[navigation_dcc_links.py] REGISTRANDO CALLBACK DE NAVEGAÇÃO (render_content)

2025-05-22 11:24:20 - callbacks.transformer_inputs - INFO - Registrando callbacks do módulo transformer_inputs para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 11:24:20 - callbacks.short_circuit - INFO - Registrando callbacks do módulo short_circuit para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 11:24:20 - callbacks.impulse - INFO - Callbacks do módulo de impulso já registrados via decoradores @dash.callback para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500.
2025-05-22 11:24:20 - callbacks.applied_voltage - INFO - Registrando callbacks de tensão aplicada...
2025-05-22 11:24:20 - callbacks.applied_voltage - INFO - Callbacks de tensão aplicada registrados com sucesso.
2025-05-22 11:24:20 - callbacks.history - INFO - Registrando callbacks de Histórico (VERSÃO REFEITA - Foco no MCP)
2025-05-22 11:24:20 - callbacks.history - INFO - Callbacks de Histórico (VERSÃO REFEITA - Foco no MCP) registrados.
2025-05-22 11:24:20 - callbacks.insulation_level_callbacks - INFO - Registrando callbacks de níveis de isolamento (APENAS OPÇÕES - V2)...
2025-05-22 11:24:20 - callbacks.insulation_level_callbacks - INFO - Callbacks de níveis de isolamento (APENAS OPÇÕES - V2) registrados.
2025-05-22 11:24:20 - callbacks.temperature_rise - INFO - Registrando callbacks do módulo temperature_rise para app Simulador de Testes de Transformadores (IEC/IEEE/ABNT) EPS 1500...
2025-05-22 11:24:20 - callbacks.temperature_rise - INFO - Callbacks do módulo temperature_rise registrados com sucesso.
2025-05-22 11:24:20 - utils.standards_db - INFO - Tabelas 'standards_metadata' e 'standards_content_fts' criadas/verificadas.
2025-05-22 11:24:20 - __main__ - INFO - Callbacks registrados. Total: 35
2025-05-22 11:24:20 - __main__ - INFO - Iniciando servidor Dash em http://127.0.0.1:8050/ (Debug: True)
2025-05-22 11:24:20 - dash.dash - INFO - Dash is running on http://127.0.0.1:8050/

2025-05-22 11:30:11 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1255, in dispatch
    cb = self.callback_map[output]
         ~~~~~~~~~~~~~~~~~^^^^^^^^
KeyError: 'content.children'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1306, in dispatch
    raise KeyError(msg) from missing_callback_function
KeyError: "Callback function not found for output 'content.children', perhaps you forgot to prepend the '@'?"
2025-05-22 11:30:11 - app - ERROR - Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1255, in dispatch
    cb = self.callback_map[output]
         ~~~~~~~~~~~~~~~~~^^^^^^^^
KeyError: '..nav-container-dados.style...nav-container-perdas.style...nav-container-impulso.style...nav-container-analise-dieletrica.style...nav-container-tensao-aplicada.style...nav-container-tensao-induzida.style...nav-container-curto-circuito.style...nav-container-elevacao-temperatura.style...nav-container-historico.style...nav-container-consulta-normas.style..'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1455, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 869, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 867, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 852, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\alessandro.souza\AppData\Local\Programs\Python\Python312\Lib\site-packages\dash\dash.py", line 1306, in dispatch
    raise KeyError(msg) from missing_callback_function
KeyError: "Callback function not found for output '..nav-container-dados.style...nav-container-perdas.style...nav-container-impulso.style...nav-container-analise-dieletrica.style...nav-container-tensao-aplicada.style...nav-container-tensao-induzida.style...nav-container-curto-circuito.style...nav-container-elevacao-temperatura.style...nav-container-historico.style...nav-container-consulta-normas.style..', perhaps you forgot to prepend the '@'?"
2025-05-22 11:30:11 - callbacks.global_updates - INFO - [MCP Diagnostics] Iniciando diagnóstico do MCP...
2025-05-22 11:30:11 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] MCP inicializado e disponível
2025-05-22 11:30:11 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store transformer-inputs-store contém 58 chaves
2025-05-22 11:30:11 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store losses-store contém 1 chaves
2025-05-22 11:30:11 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store impulse-store contém 1 chaves
2025-05-22 11:30:11 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store dieletric-analysis-store contém 1 chaves
2025-05-22 11:30:11 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store applied-voltage-store contém 1 chaves
2025-05-22 11:30:11 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store induced-voltage-store contém 1 chaves
2025-05-22 11:30:11 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store short-circuit-store contém 1 chaves
2025-05-22 11:30:11 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store temperature-rise-store contém 1 chaves
2025-05-22 11:30:11 - utils.mcp_diagnostics - INFO - [MCP Diagnostics] Store comprehensive-analysis-store contém 1 chaves
2025-05-22 11:30:11 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store front-resistor-data está vazio
2025-05-22 11:30:11 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store tail-resistor-data está vazio
2025-05-22 11:30:11 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store calculated-inductance está vazio
2025-05-22 11:30:11 - utils.mcp_diagnostics - WARNING - [MCP Diagnostics] Store simulation-status está vazio
2025-05-22 11:30:11 - callbacks.global_updates - DEBUG - [MCP Diagnostics] Resultado do diagnóstico: ok
2025-05-22 11:30:11 - callbacks.global_updates - DEBUG - [MCP Diagnostics] MCP em bom estado. Nenhuma correção necessária.
